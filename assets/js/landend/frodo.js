var frodo=function(A){"use strict";const _excluded=["inputs"],_excluded2=["inputId"],_excluded3=["inputs"],_excluded4=["inputId"],_excluded5=["type"];function _objectWithoutProperties(A,P){if(A==null)return{};var F,U,le=_objectWithoutPropertiesLoose(A,P);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(A);for(U=0;U<X.length;U++)F=X[U],P.indexOf(F)===-1&&{}.propertyIsEnumerable.call(A,F)&&(le[F]=A[F])}return le}function _objectWithoutPropertiesLoose(A,P){if(A==null)return{};var F={};for(var U in A)if({}.hasOwnProperty.call(A,U)){if(P.indexOf(U)!==-1)continue;F[U]=A[U]}return F}function ownKeys(A,P){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(A);P&&(U=U.filter(function(le){return Object.getOwnPropertyDescriptor(A,le).enumerable})),F.push.apply(F,U)}return F}function _objectSpread(A){for(var P=1;P<arguments.length;P++){var F=arguments[P]!=null?arguments[P]:{};P%2?ownKeys(Object(F),!0).forEach(function(U){_defineProperty(A,U,F[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):ownKeys(Object(F)).forEach(function(U){Object.defineProperty(A,U,Object.getOwnPropertyDescriptor(F,U))})}return A}function _defineProperty(A,P,F){return(P=_toPropertyKey(P))in A?Object.defineProperty(A,P,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[P]=F,A}function _toPropertyKey(A){var P=_toPrimitive(A,"string");return typeof P=="symbol"?P:P+""}function _toPrimitive(A,P){if(typeof A!="object"||!A)return A;var F=A[Symbol.toPrimitive];if(F!==void 0){var U=F.call(A,P||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(A)}/*! js-cookie v3.0.5 | MIT */function P(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)s[r]=t[r]}return s}var F={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function U(s,e){function t(n,i,o){if(!(typeof document>"u")){o=P({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var a in o)o[a]&&(l+="; "+a,o[a]!==!0&&(l+="="+o[a].split(";")[0]));return document.cookie=n+"="+s.write(i,n)+l}}function r(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var i=document.cookie?document.cookie.split("; "):[],o={},l=0;l<i.length;l++){var a=i[l].split("="),c=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(o[u]=s.read(c,u),n===u)break}catch{}}return n?o[n]:o}}return Object.create({set:t,get:r,remove:function(n,i){t(n,"",P({},i,{expires:-1}))},withAttributes:function(n){return U(this.converter,P({},this.attributes,n))},withConverter:function(n){return U(P({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(s)}})}var le=U(F,{path:"/"});const X=[];for(let s=0;s<256;++s)X.push((s+256).toString(16).slice(1));function rl(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(X[s[e+0]]+X[s[e+1]]+X[s[e+2]]+X[s[e+3]]+"-"+X[s[e+4]]+X[s[e+5]]+"-"+X[s[e+6]]+X[s[e+7]]+"-"+X[s[e+8]]+X[s[e+9]]+"-"+X[s[e+10]]+X[s[e+11]]+X[s[e+12]]+X[s[e+13]]+X[s[e+14]]+X[s[e+15]]).toLowerCase()}let Fr;const sl=new Uint8Array(16);function nl(){if(!Fr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fr=crypto.getRandomValues.bind(crypto)}return Fr(sl)}const On={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function il(s,e,t){var r,n,i,o;s=s||{};const l=(r=(n=s.random)!==null&&n!==void 0?n:(i=(o=s).rng)===null||i===void 0?void 0:i.call(o))!==null&&r!==void 0?r:nl();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError("UUID byte range ".concat(t,":").concat(t+15," is out of buffer bounds"));for(let a=0;a<16;++a)e[t+a]=l[a];return e}return rl(l)}function Ur(s,e,t){return On.randomUUID&&!e&&!s?On.randomUUID():il(s,e,t)}const Rn=s=>new Date(new Date().getTime()+s*60*1e3),Tt="https://et.landingi.com",ol="error_form",Mn="start_filling_form",kt="s_f_f",Tn="visit",kn="v",al="view_lightbox",Nn="click_accordion",ll="scroll",$n="s",Wr="cannot_find_lightbox",zr="cookie_value",Vr="thankyou",Ln="main",Nt=255,$e="data_",Pn="activity_time",Le=()=>{const{conversion:s}=window;return s!=null&&s.hash?Vr:Ln};function cl(s){const e={};return new URLSearchParams(new URL(s).search).forEach((r,n)=>{if(["utm_campaign","utm_term","utm_content","utm_medium","utm_source"].includes(n)){const o=n;e[o]=r}}),Object.keys(e).length===0?null:e}const ul=s=>cl(s),hl=()=>{const s=le.get("_ga");if(!s)return null;const e=s.split("."),t="".concat(e[2],".").concat(e[3]);return t.length>50?t.substring(0,50):t},fl=s=>{if(!s)return"";const t=s.substring(0,Nt).trim().split(" "),r=t.length-1;let i=t.reduce((c,u)=>c+encodeURIComponent(u).length,0)+r,o;for(;t.length>0&&i>Nt;)if(o=t.pop(),o){const c=encodeURIComponent(o).length;i--,i-=c}let l="";if(i<Nt&&o){let c=Nt-i;const u=[...o];for(;c>0&&u.length>0;){const f=u.shift();if(f){const d=encodeURIComponent(f).length;d<=c&&(c-=d,l+=f)}}}return l.length&&t.push(l),t.join(" ")},ce=async s=>{let{type:e,element_id:t,label:r,cookieValue:n,data:i,page_location:o,is_bot:l}=s;const{tid:a,luuid:c,lhash:u,auuid:f}=i,d=Le(),m=window.location.href,p=ul(m),y=hl(),h=fl(r),w=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({type:e,label:h},t&&{element_id:t}),{},{session:n},a&&{tid:a.toString()}),c&&{landing_uuid:c}),u&&{variant_hash:u}),f&&{account_uuid:f}),d&&{page_type:d}),p&&_objectSpread({},p)),y&&{ga_client_id:y}),o&&{page_location:o}),l&&{is_bot:l});await(async()=>{const b="".concat(Tt,"/v2/publish-event");try{const g=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!g.ok)throw new Error("Request failed with status ".concat(g.status))}catch(g){console.error(g)}})()},dl=(s,e)=>["widget-button","widget-image","widget-svgicon"].includes(e)&&s.classList.contains(e),pl=(s,e)=>{var t;const r=e.map(o=>"".concat(o)).join(","),n=s==null||(t=s.querySelectorAll)===null||t===void 0?void 0:t.call(s,r),i=Array.from(n||[]).filter(o=>o.tagName==="A");return i.length>0?i:dl(s,r)?[s]:[]},ml=s=>{var e;const t=s,r=t==null||(e=t.parentElement)===null||e===void 0?void 0:e.classList;return r!=null&&r.contains("widget-button")?"click_button":r!=null&&r.contains("widget-image")?"click_image":r!=null&&r.contains("widget-svgicon")?"click_icon":""},gl=s=>{var e,t,r;const n=s,i=(e=n.parentElement)===null||e===void 0?void 0:e.getAttribute("data-origin-label"),o=n==null||(t=n.parentElement)===null||t===void 0?void 0:t.innerText,l=i??o,a=n==null?void 0:n.parentElement,c=(r=a.getAttribute("href"))===null||r===void 0?void 0:r.split("://")[1],u=a.getAttribute("subtype"),f=u==="popup",d=u==="anchor",m=a==null?void 0:a.classList.contains("widget-button");if(f&&!m){var p;const y=(p=a.getAttribute("href"))===null||p===void 0?void 0:p.split("#")[1];if(!y)return Wr;const h=document.getElementById(y);if(h==null)return Wr;const w=h==null?void 0:h.getAttribute("data-lightbox-name");return w??Wr}if(d){const y=a.getAttribute("href");if(m){const h=a.getAttribute("data-origin-label"),w=a==null?void 0:a.innerText;return h??w}return y}return c!=="lp.landingi.cc"&&c!=="www.landpagepreview.com"&&(l==null?void 0:l.length)===0?c:l&&l.length>0?l:""},_n=[];function Pe(s){let{parentElement:e,data:t,cookieValue:r,selectors:n}=s;[...document.querySelectorAll(".widget-image")].filter(l=>l.nodeName==="IMG"&&l.hasAttribute("data-gallery")).forEach(l=>{const a=l.getAttribute("id");a&&(_n.includes(a)||(_n.push(a),l.addEventListener("click",c=>{const u=c.target,f="click_image",d=l.getAttribute("data-gallery");u!=null&&u.id&&ce({type:f,element_id:u.id,label:d||void 0,cookieValue:r,data:t})})))}),pl(e,n).forEach(l=>{l.addEventListener("click",a=>{var c;const u=a.target,f=ml(u),d=gl(u);u!=null&&(c=u.parentElement)!==null&&c!==void 0&&c.id&&ce({type:f,element_id:u.parentElement.id,label:d||"",cookieValue:r,data:t})})})}const _e=(s,e)=>{s.forEach(t=>{const r=document.createElement("input");r.type="hidden",r.name="_session",r.value=e,t.appendChild(r);const n=t.querySelector('.widget-input-button[type="submit"]');if(!n)return;const i=n.getAttribute("data-origin-label"),o=n.innerText,l=document.createElement("input");l.type="hidden",l.name="_form_submit_label",l.value=i??o,t.appendChild(l)})},jr=s=>{const e=new URL(s),t=e.pathname.split("/")[1];return t===""||t===void 0?e.host:t},Gr=s=>{const e=s.querySelector('.widget-input-button[type="submit"]');if(!e)return;const t=e.getAttribute("data-origin-label"),r=e.innerText,n=t??r;return n||e.textContent},Dn=(s,e,t)=>{s.forEach(r=>{const n=/^widget-input-[a-zA-Z]+$/,i=Array.from(r.querySelectorAll("input")).filter(p=>p.className.split(" ").some(h=>h.match(n)!==null)),o=Array.from(r.querySelectorAll("select")).filter(p=>p.className.split(" ").some(h=>h.match(n)!==null)),l=Array.from(r.querySelectorAll("textarea")).filter(p=>p.className.split(" ").some(h=>h.match("widget-textarea")!==null)),a=Array.from(r.querySelectorAll("input")).filter(p=>p.className.split(" ").some(h=>h.match("file-input")!==null)),c=Gr(r);if(c!==""&&!c)return;const u=[...i,...o,...l,...a],f=window.location.href,d=jr(f),m="previousCookieValues-".concat(d);u.forEach(p=>{p.addEventListener("focus",()=>{if(r.id!==null){const y=r.id,h=localStorage.getItem(m),w=h!==null?JSON.parse(h):{},I=w[y];t!==I&&(ce({type:Mn,element_id:y,label:c,cookieValue:t,data:e}),w[y]=t,localStorage.setItem(m,JSON.stringify(w)))}})})})},yl=s=>s.classList.contains("widget-paypal")?"click_paypal_button":s.classList.contains("widget-payu")?"click_payu_button":s.classList.contains("widget-stripe")?"click_stripe_button":"click_pay_button",Hr=(s,e)=>{[...document.querySelectorAll(".widget-paypal"),...document.querySelectorAll(".widget-payu"),...document.querySelectorAll(".widget-stripe")].forEach(r=>{r.addEventListener("click",n=>{const i=n.target,o=yl(r),l=r.getAttribute("data-product-name");i!=null&&i.id&&l&&ce({type:o,element_id:i.id,label:l,cookieValue:s,data:e})})})},wl=(s,e,t)=>{const r=s.getAttribute("data-uid");if(!r)return;const n=document.getElementById(r);if(!n)return;const i=n.getAttribute("parentid");if(!i)return;const o=document.getElementById(i);if(!o)return;const l=Gr(o);l!==""&&!l||ce({type:ol,element_id:i,label:l,cookieValue:t,data:e})},bl=(s,e,t)=>{if(!s||s.getAttribute("data-observed")||(s.setAttribute("data-observed","true"),!e))return;s.getAttribute("data-handled")||(s.setAttribute("data-handled","true"),wl(s,t,e));const r=new MutationObserver(()=>{s.removeAttribute("data-observed"),r.disconnect()});s.parentNode&&r.observe(s.parentNode,{childList:!0,subtree:!0})},Yr=(s,e)=>{const t=".form-error-tooltip",r=document.querySelectorAll(t),n={};r.forEach(i=>{const o=i.getAttribute("data-uid");if(!o)return;const l=document.getElementById(o);if(!l)return;const a=l.getAttribute("parentid");a&&(n[a]||(bl(i,s,e),n[a]=!0))})},Jr=s=>{[...document.querySelectorAll(".widget-paypal"),...document.querySelectorAll(".widget-payu"),...document.querySelectorAll(".widget-stripe")].forEach(t=>t.setAttribute("data-session",s))},me=s=>{try{return localStorage.getItem(s)}catch{return null}},Ae=(s,e)=>{try{localStorage.setItem(s,e)}catch{return}},Zr=s=>{try{localStorage.removeItem(s)}catch{return}};var vl=" daum[ /]| deusu/|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|(?<!cam)scan|24x7|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|\\||^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^azure|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d\\s[\\w\\.-]+$|^mozilla/\\d\\.\\d\\s\\(compatible;?(?:\\s\\w+\\/\\d+\\.\\d+)?\\)$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|agent|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|fetcher|firephp|functionize|grab|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|infrawatch|insight|inspect|iplabel|java(?!;)|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|onetrust|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|retriever|rexx;|rigor|rss\\b|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|xtate/",Sl=/bot|crawl|http|lighthouse|scan|search|spider/i,nt;function Cl(){if(nt instanceof RegExp)return nt;try{nt=new RegExp(vl,"i")}catch{nt=Sl}return nt}function Il(s){return!!s&&Cl().test(s)}const Kr=()=>{try{var s;const e=(s=window)===null||s===void 0||(s=s.navigator)===null||s===void 0?void 0:s.userAgent;return e?Il(e):!1}catch{return!1}},El=async s=>{let{cookieValue:e,data:t,url:r}=s;const n=jr(r),i="cookie-value-visit-".concat(n),o=me(i),l=o!==null?JSON.parse(o):{},a=Kr();e!==l&&(await ce({type:Tn,cookieValue:e,data:t,page_location:r,is_bot:a}),Ae(i,JSON.stringify(e)))},Bn=async s=>{let{scroll_depth:e,cookieValue:t,data:r}=s;const{luuid:n,lhash:i,auuid:o}=r,l=Le(),a=_objectSpread({session_id:t,scroll_depth:e,landing_uuid:n,variant_hash:i,account_uuid:o},l&&{page_type:l.toString()}),c="".concat(Tt,"/scroll?").concat(new URLSearchParams(_objectSpread({},a)));try{const u=await fetch(c);if(!u.ok)throw new Error("Request failed with status ".concat(u.status))}catch(u){console.error(u)}},xl=(s,e,t)=>{const r=e===Vr?"-typ":"";localStorage.setItem("".concat(zr,"-").concat(s).concat(r),JSON.stringify(t))},Fn={10:"10",25:"25",50:"50",75:"75",90:"90",99:"100"},Un={},Al=(s,e)=>{const t=window.location.href,r=jr(t),n=Le(),i=n===Ln?localStorage.getItem("".concat(zr,"-").concat(r)):localStorage.getItem("".concat(zr,"-").concat(r,"-typ")),o=i!==null?JSON.parse(i):{},l=()=>{const{scrollHeight:a}=document.documentElement,c=window.innerHeight,d=(window.scrollY+c)/a*100;if(d>=10){let m=0;Object.keys(Fn).map(Number).forEach(p=>{d>=p&&(m=p)}),Un[m]||(Un[m]=!0,Bn({scroll_depth:Fn[m],cookieValue:s,data:e}),xl(r,n,s))}};s!==o&&(l(),window.addEventListener("scroll",()=>{l()}))},Wn=s=>new URL(s).protocol.includes("https"),De=s=>{let{lightbox:e,cookieValue:t,data:r}=s;const n=e.getAttribute("id");if(!n)return;let i=e.classList.contains("show-lightbox");new MutationObserver(l=>{l.forEach(a=>{if(a.type==="attributes"&&a.attributeName==="class"){const c=e.classList.contains("show-lightbox");if(c&&!i){const u=e.getAttribute("data-lightbox-name")||"";ce({type:al,element_id:n,label:u,cookieValue:t,data:r})}i=c}})}).observe(e,{attributes:!0})},Be=s=>{const e=r=>r instanceof HTMLAnchorElement;return s.filter(e)},Fe=s=>s.filter(t=>{const r=t.hasAttribute("subtype"),n=t.getAttribute("subtype")==="redirect"||t.getAttribute("subtype")==="landingpage",i=t.getAttribute("href")||"",o=!i.startsWith("mailto:")&&!i.startsWith("tel:")&&!i.startsWith("sms:")&&!i.startsWith("callto:");return r&&n&&o}),Ol=s=>{let{accordionHeader:e,accordionElement:t,triggerToOpen:r,label:n,cookieValue:i,data:o}=s;if(r==="icon/image"){const l=e.querySelector(".accordion-trigger");l&&l.addEventListener("click",()=>{ce({type:Nn,element_id:t.id,label:n||void 0,cookieValue:i,data:o})})}else e.addEventListener("click",()=>{ce({type:Nn,element_id:t.id,label:n||void 0,cookieValue:i,data:o})})},Xr=(s,e)=>{document.querySelectorAll(".widget-accordion").forEach(r=>{const n=Array.from(r.children),i=r.getAttribute("data-trigger");n.forEach(o=>{var l;const a=o.querySelector(".accordion-heading-container");if(!a)return;const c=(l=a.querySelector(".accordion-heading-text"))===null||l===void 0?void 0:l.textContent;Ol({accordionHeader:a,accordionElement:o,triggerToOpen:i,label:c,cookieValue:s,data:e})})})},Ue=s=>s.filter(t=>{const r=t.getAttribute("href")||"",n=r.startsWith("mailto:")||r.startsWith("tel:")||r.startsWith("sms:")||r.startsWith("callto:");return r&&n}),We=(s,e)=>{s.forEach(t=>{t.setAttribute("data-session-value",e)})},zn=async s=>{let{cookieValue:e,data:t,eventHandlers:r}=s;const{getEvent:n,setEvent:i}=r,o=Kr();n(kn)!==!0&&(await ce({type:Tn,cookieValue:e,data:t,page_location:window.location.href,is_bot:o}),i(kn))},Vn={10:"10",25:"25",50:"50",75:"75",90:"90",99:"100"},jn={},Gn=s=>{let{cookieValue:e,data:t,eventHandlers:r}=s;const{getEvent:n,setEvent:i}=r,o=()=>{const{scrollHeight:l}=document.documentElement,a=window.innerHeight,f=(window.scrollY+a)/l*100;if(f>=10){let d=0;Object.keys(Vn).map(Number).forEach(m=>{f>=m&&(d=m)}),jn[d]||(jn[d]=!0,Bn({scroll_depth:Vn[d],cookieValue:e,data:t}))}};n($n)!==!0&&(o(),window.addEventListener(ll,()=>{o()}),i($n))},$t=s=>{let{forms:e,data:t,cookieValue:r,eventHandlers:n}=s;const{setEvent:i,getEvent:o}=n;e.forEach(l=>{const a=/^widget-input-[a-zA-Z]+$/,c=Array.from(l.querySelectorAll("input")).filter(y=>y.className.split(" ").some(w=>w.match(a)!==null)),u=Array.from(l.querySelectorAll("select")).filter(y=>y.className.split(" ").some(w=>w.match(a)!==null)),f=Array.from(l.querySelectorAll("textarea")).filter(y=>y.className.split(" ").some(w=>w.match("widget-textarea")!==null)),d=Array.from(l.querySelectorAll("input")).filter(y=>y.className.split(" ").some(w=>w.match("file-input")!==null)),m=Gr(l);if(m!==""&&!m)return;[...c,...u,...f,...d].forEach(y=>{y.addEventListener("focus",()=>{if(l.id!==null){const h=l.id,w=o(kt);typeof w=="object"&&w[h]!==!0&&(ce({type:Mn,element_id:h,label:m,cookieValue:r,data:t}),i(kt,{formId:h}))}})})})},ze=(s,e)=>{s.forEach(t=>{const r=t.getAttribute("href");if(r)try{const n=new URL(r,window.location.href);n.searchParams.set("_session",e),t.setAttribute("href",n.href)}catch(n){console.error("Invalid URL:",r,n)}})},Ve=s=>{let{redirectButtons:e,cookieValue:t,data:r}=s;e.forEach(n=>{const i=n.getAttribute("href");if(i)try{const o=new URL(i,window.location.href);o.searchParams.set("_la_s",t),o.searchParams.set("_la_lid",r.luuid),o.searchParams.set("_la_vh",r.lhash),o.searchParams.set("_la_aid",r.auuid),n.setAttribute("href",o.href)}catch(o){console.error("Invalid URL:",i,o)}})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
  See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qr=function(){return qr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qr.apply(this,arguments)};function Rl(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var Lt=Rl,Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ml=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt,Tl=Ml,kl=typeof self=="object"&&self&&self.Object===Object&&self,Nl=Tl||kl||Function("return this")(),Hn=Nl,$l=function(){return Hn.Date.now()},Qr=$l,Ll=Hn.Symbol,_t=Ll,Yn=Object.prototype,Pl=Yn.hasOwnProperty,_l=Yn.toString,it=_t?_t.toStringTag:void 0;function Dl(s){var e=Pl.call(s,it),t=s[it];try{s[it]=void 0;var r=!0}catch{}var n=_l.call(s);return r&&(e?s[it]=t:delete s[it]),n}var Bl=Dl,Fl=Object.prototype,Ul=Fl.toString;function Wl(s){return Ul.call(s)}var zl=Wl,Vl="[object Null]",jl="[object Undefined]",Jn=_t?_t.toStringTag:void 0;function Gl(s){return s==null?s===void 0?jl:Vl:Jn&&Jn in Object(s)?Bl(s):zl(s)}var Hl=Gl;function Yl(s){return s!=null&&typeof s=="object"}var Jl=Yl,Zl="[object Symbol]";function Kl(s){return typeof s=="symbol"||Jl(s)&&Hl(s)==Zl}var Xl=Kl,Zn=0/0,ql=/^\s+|\s+$/g,Ql=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,tc=/^0o[0-7]+$/i,rc=parseInt;function sc(s){if(typeof s=="number")return s;if(Xl(s))return Zn;if(Lt(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=Lt(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=s.replace(ql,"");var t=ec.test(s);return t||tc.test(s)?rc(s.slice(2),t?2:8):Ql.test(s)?Zn:+s}var Kn=sc,nc="Expected a function",ic=Math.max,oc=Math.min;function ac(s,e,t){var r,n,i,o,l,a,c=0,u=!1,f=!1,d=!0;if(typeof s!="function")throw new TypeError(nc);e=Kn(e)||0,Lt(t)&&(u=!!t.leading,f="maxWait"in t,i=f?ic(Kn(t.maxWait)||0,e):i,d="trailing"in t?!!t.trailing:d);function m(C){var O=r,E=n;return r=n=void 0,c=C,o=s.apply(E,O),o}function p(C){return c=C,l=setTimeout(w,e),u?m(C):o}function y(C){var O=C-a,E=C-c,x=e-O;return f?oc(x,i-E):x}function h(C){var O=C-a,E=C-c;return a===void 0||O>=e||O<0||f&&E>=i}function w(){var C=Qr();if(h(C))return I(C);l=setTimeout(w,y(C))}function I(C){return l=void 0,d&&r?m(C):(r=n=void 0,o)}function b(){l!==void 0&&clearTimeout(l),c=0,r=a=n=l=void 0}function g(){return l===void 0?o:I(Qr())}function v(){var C=Qr(),O=h(C);if(r=arguments,n=this,a=C,O){if(l===void 0)return p(a);if(f)return l=setTimeout(w,e),m(a)}return l===void 0&&(l=setTimeout(w,e)),o}return v.cancel=b,v.flush=g,v}var lc=ac,cc="Expected a function";function uc(s,e,t){var r=!0,n=!0;if(typeof s!="function")throw new TypeError(cc);return Lt(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),lc(s,e,{leading:r,maxWait:e,trailing:n})}var hc=uc,Xn=["scroll","resize"],qn=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],fc=function(){function s(e){var t=e.timeIntervalEllapsedCallbacks,r=t===void 0?[]:t,n=e.absoluteTimeEllapsedCallbacks,i=n===void 0?[]:n,o=e.checkCallbacksIntervalMs,l=o===void 0?100:o,a=e.browserTabInactiveCallbacks,c=a===void 0?[]:a,u=e.idleCallbacks,f=u===void 0?[]:u,d=e.stopTimerOnTabchange,m=d===void 0?!0:d,p=e.activeCallbacks,y=p===void 0?[]:p,h=e.browserTabActiveCallbacks,w=h===void 0?[]:h,I=e.idleTimeoutMs,b=I===void 0?3e3:I,g=this;this.onBrowserTabInactive=function(){g.isRunning()&&g.stopTimerOnTabchange&&g.stopTimer(),g.browserTabInactiveCallbacks.forEach(function(v){return v(g.getTimeInMilliseconds())})},this.onBrowserTabActive=function(){g.isRunning()||g.startTimer(),g.browserTabActiveCallbacks.forEach(function(v){return v(g.getTimeInMilliseconds())})},this.onBrowserActiveChange=function(){document.visibilityState==="visible"?g.onBrowserTabActive():g.onBrowserTabInactive()},this.onTimePassed=function(){g.absoluteTimeEllapsedCallbacks.forEach(function(v,C){var O=v.callback,E=v.pending,x=v.timeInMilliseconds;E&&x<=g.getTimeInMilliseconds()&&(O(g.getTimeInMilliseconds()),g.absoluteTimeEllapsedCallbacks[C].pending=!1)}),g.timeIntervalEllapsedCallbacks.forEach(function(v,C){var O=v.callback,E=v.timeInMilliseconds,x=v.multiplier;E<=g.getTimeInMilliseconds()&&(O(g.getTimeInMilliseconds()),g.timeIntervalEllapsedCallbacks[C].timeInMilliseconds=x(E))}),g.currentIdleTimeMs>=g.idleTimeoutMs&&g.isRunning()?(g.idle=!0,g.stopTimer(),g.idleCallbacks.forEach(function(v){return v(g.getTimeInMilliseconds())})):g.currentIdleTimeMs+=g.checkCallbacksIntervalMs},this.resetIdleTime=function(){g.idle&&g.startTimer(),g.activeCallbacks.forEach(function(v){return v(g.getTimeInMilliseconds())}),g.idle=!1,g.currentIdleTimeMs=0},this.registerEventListeners=function(){var v={passive:!0},C=qr({},v,{capture:!0});document.addEventListener("visibilitychange",g.onBrowserActiveChange);var O=hc(g.resetIdleTime,2e3,{leading:!0,trailing:!1});Xn.forEach(function(E){window.addEventListener(E,O,C)}),qn.forEach(function(E){return document.addEventListener(E,O,v)})},this.unregisterEventListeners=function(){document.removeEventListener("visibilitychange",g.onBrowserActiveChange),Xn.forEach(function(v){return window.removeEventListener(v,g.resetIdleTime)}),qn.forEach(function(v){return document.removeEventListener(v,g.resetIdleTime)})},this.checkCallbacksOnInterval=function(){g.checkCallbackIntervalId=window.setInterval(function(){g.onTimePassed()},g.checkCallbacksIntervalMs)},this.startTimer=function(){g.checkCallbackIntervalId||g.checkCallbacksOnInterval();var v=g.times[g.times.length-1];v&&v.stop===null||(g.times.push({start:performance.now(),stop:null}),g.running=!0)},this.stopTimer=function(){g.times.length&&(g.times[g.times.length-1].stop=performance.now(),g.running=!1)},this.addTimeIntervalEllapsedCallback=function(v){g.timeIntervalEllapsedCallbacks.push(v)},this.addAbsoluteTimeEllapsedCallback=function(v){g.absoluteTimeEllapsedCallbacks.push(v)},this.addBrowserTabInactiveCallback=function(v){g.browserTabInactiveCallbacks.push(v)},this.addBrowserTabActiveCallback=function(v){g.browserTabActiveCallbacks.push(v)},this.addIdleCallback=function(v){g.idleCallbacks.push(v)},this.addActiveCallback=function(v){g.activeCallbacks.push(v)},this.getTimeInMilliseconds=function(){return g.times.reduce(function(v,C){return C.stop?v=v+(C.stop-C.start):v=v+(performance.now()-C.start),v},0)},this.isRunning=function(){return g.running},this.isIdle=function(){return g.idle},this.reset=function(){g.times=[]},this.destroy=function(){g.unregisterEventListeners(),g.checkCallbackIntervalId&&window.clearInterval(g.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=m,this.browserTabActiveCallbacks=w,this.browserTabInactiveCallbacks=c,this.checkCallbacksIntervalMs=l,this.idleTimeoutMs=b,this.timeIntervalEllapsedCallbacks=r,this.absoluteTimeEllapsedCallbacks=i,this.idleCallbacks=f,this.activeCallbacks=y,this.registerEventListeners()}return s.prototype.mark=function(e){this.marks[e]||(this.marks[e]=[]),this.marks[e].push({time:this.getTimeInMilliseconds()})},s.prototype.getMarks=function(e){if(!(this.marks[e].length<1))return this.marks[e]},s.prototype.measure=function(e,t,r){var n=this.marks[t],i=n[n.length-1],o=this.marks[r],l=o[o.length-1];this.measures[e]||(this.measures[e]=[]),this.measures[e].push({name:e,startTime:i.time,duration:l.time-i.time})},s.prototype.getMeasures=function(e){if(!(!this.measures[e]&&this.measures[e].length<1))return this.measures[e]},s}();const dc=async s=>{let{absolute_time:e,activity_time:t,cookieValue:r}=s;const n={session_uuid:r,absolute_time:e,activity_time:t},i="".concat(Tt,"/update-time");if(navigator.sendBeacon){const l=new URLSearchParams(_objectSpread({},n));if(navigator.sendBeacon(i,l))return}const o="".concat(i,"?").concat(new URLSearchParams(_objectSpread({},n)));try{const l=await fetch(o);if(!l.ok)throw new Error("Request failed with status ".concat(l.status))}catch(l){console.error(l)}},Dt={IDLE_TIMEOUT:5e3,CHECK_INTERVAL:250,BACKUP_INTERVAL:5e3,SEND_DEBOUNCE:1e3},es=s=>{let{cookieValue:e}=s;const t=Le();if(Kr()||t===Vr)return;let n=!1,i=!1,o=null;const l=new fc({timeIntervalEllapsedCallbacks:[],absoluteTimeEllapsedCallbacks:[],browserTabInactiveCallbacks:[],browserTabActiveCallbacks:[],idleTimeoutMs:Dt.IDLE_TIMEOUT,checkCallbacksIntervalMs:Dt.CHECK_INTERVAL}),a={startTime:Date.now(),totalPausedTime:0,pauseStartTime:null,initialActivityTime:0,initialAbsoluteTime:0,shouldContinue:!1},c=()=>{try{const E=me(Pn);if(!E)return;const x=JSON.parse(E);if(x.cookieValue!==e)return;a.shouldContinue=!0,a.initialActivityTime=Number(x.activity_time)||0,a.initialAbsoluteTime=Number(x.absolute_time)||0}catch{}},u=()=>{const E=Date.now(),x=a.pauseStartTime?a.totalPausedTime+(E-a.pauseStartTime):a.totalPausedTime;return(E-a.startTime-x)/1e3},f=()=>{const E=u(),x=l.getTimeInMilliseconds()/1e3;return{totalAbsoluteTime:(a.shouldContinue?E+a.initialAbsoluteTime:E).toFixed(3),totalActivityTime:(a.shouldContinue?x+a.initialActivityTime:x).toFixed(3)}},d=()=>{try{const{totalAbsoluteTime:E,totalActivityTime:x}=f(),$={cookieValue:e,absolute_time:E,activity_time:x,last_update:Date.now()};Ae(Pn,JSON.stringify($))}catch{}},m=async()=>{if(!(n||i)){i=!0;try{const{totalAbsoluteTime:E,totalActivityTime:x}=f();await dc({absolute_time:E,activity_time:x,cookieValue:e}),d()}catch{d()}finally{i=!1}}},p=()=>{o&&clearTimeout(o),o=setTimeout(()=>{m(),o=null},Dt.SEND_DEBOUNCE)},y=()=>{a.pauseStartTime===null&&(a.pauseStartTime=Date.now())},h=()=>{a.pauseStartTime!==null&&(a.totalPausedTime+=Date.now()-a.pauseStartTime,a.pauseStartTime=null)},w=()=>{n||(document.visibilityState==="hidden"?(y(),p()):document.visibilityState==="visible"&&h())},I=E=>{E.persisted&&!n&&l.startTimer()},b=()=>{n||m()},g=()=>{[["visibilitychange",w],["beforeunload",b],["pagehide",b],["pageshow",I],["blur",w],["focus",w]].forEach(x=>{let[$,j]=x;window.addEventListener($,j)})},v=()=>{[["visibilitychange",w],["beforeunload",b],["pagehide",b],["pageshow",I],["blur",w],["focus",w]].forEach(x=>{let[$,j]=x;window.removeEventListener($,j)})};c(),l.startTimer(),g();const C=setInterval(()=>{d()},Dt.BACKUP_INTERVAL);return()=>{n||(n=!0,o&&(clearTimeout(o),o=null),m(),clearInterval(C),v(),l.destroy())}};var pc=Object.defineProperty,mc=(s,e,t)=>e in s?pc(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,S=(s,e,t)=>mc(s,typeof e!="symbol"?e+"":e,t),Qn,gc=Object.defineProperty,yc=(s,e,t)=>e in s?gc(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ei=(s,e,t)=>yc(s,typeof e!="symbol"?e+"":e,t),Q=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(Q||{});const ti={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ri={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Bt={},wc=()=>!!globalThis.Zone;function ts(s){if(Bt[s])return Bt[s];const e=globalThis[s],t=e.prototype,r=s in ti?ti[s]:void 0,n=!!(r&&r.every(l=>{var a,c;return!!((c=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&c.toString().includes("[native code]"))})),i=s in ri?ri[s]:void 0,o=!!(i&&i.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(n&&o&&!wc())return Bt[s]=e.prototype,e.prototype;try{const l=document.createElement("iframe");document.body.appendChild(l);const a=l.contentWindow;if(!a)return e.prototype;const c=a[s].prototype;return document.body.removeChild(l),c?Bt[s]=c:t}catch{return t}}const rs={};function Ie(s,e,t){var r;const n="".concat(s,".").concat(String(t));if(rs[n])return rs[n].call(e);const i=ts(s),o=(r=Object.getOwnPropertyDescriptor(i,t))==null?void 0:r.get;return o?(rs[n]=o,o.call(e)):e[t]}const ss={};function si(s,e,t){const r="".concat(s,".").concat(String(t));if(ss[r])return ss[r].bind(e);const i=ts(s)[t];return typeof i!="function"?e[t]:(ss[r]=i,i.bind(e))}function bc(s){return Ie("Node",s,"childNodes")}function vc(s){return Ie("Node",s,"parentNode")}function Sc(s){return Ie("Node",s,"parentElement")}function Cc(s){return Ie("Node",s,"textContent")}function Ic(s,e){return si("Node",s,"contains")(e)}function Ec(s){return si("Node",s,"getRootNode")()}function xc(s){return!s||!("host"in s)?null:Ie("ShadowRoot",s,"host")}function Ac(s){return s.styleSheets}function Oc(s){return!s||!("shadowRoot"in s)?null:Ie("Element",s,"shadowRoot")}function Rc(s,e){return Ie("Element",s,"querySelector")(e)}function Mc(s,e){return Ie("Element",s,"querySelectorAll")(e)}function Tc(){return ts("MutationObserver").constructor}const ee={childNodes:bc,parentNode:vc,parentElement:Sc,textContent:Cc,contains:Ic,getRootNode:Ec,host:xc,styleSheets:Ac,shadowRoot:Oc,querySelector:Rc,querySelectorAll:Mc,mutationObserver:Tc};function ni(s){return s.nodeType===s.ELEMENT_NODE}function ot(s){const e=s&&"host"in s&&"mode"in s&&ee.host(s)||null;return!!(e&&"shadowRoot"in e&&ee.shadowRoot(e)===s)}function at(s){return Object.prototype.toString.call(s)==="[object ShadowRoot]"}function kc(s){return s.includes(" background-clip: text;")&&!s.includes(" -webkit-background-clip: text;")&&(s=s.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),s}function Nc(s){const{cssText:e}=s;if(e.split('"').length<3)return e;const t=["@import","url(".concat(JSON.stringify(s.href),")")];return s.layerName===""?t.push("layer"):s.layerName&&t.push("layer(".concat(s.layerName,")")),s.supportsText&&t.push("supports(".concat(s.supportsText,")")),s.media.length&&t.push(s.media.mediaText),t.join(" ")+";"}function ns(s){try{const e=s.rules||s.cssRules;if(!e)return null;let t=s.href;!t&&s.ownerNode&&s.ownerNode.ownerDocument&&(t=s.ownerNode.ownerDocument.location.href);const r=Array.from(e,n=>ii(n,t)).join("");return kc(r)}catch{return null}}function ii(s,e){if(Lc(s)){let t;try{t=ns(s.styleSheet)||Nc(s)}catch{t=s.cssText}return s.styleSheet.href?Ft(t,s.styleSheet.href):t}else{let t=s.cssText;return Pc(s)&&s.selectorText.includes(":")&&(t=$c(t)),e?Ft(t,e):t}}function $c(s){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return s.replace(e,"$1\\$2")}function Lc(s){return"styleSheet"in s}function Pc(s){return"selectorText"in s}class oi{constructor(){ei(this,"idNodeMap",new Map),ei(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const r=(t=this.getMeta(e))==null?void 0:t.id;return r??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const n=this.nodeMetaMap.get(r);n&&this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function _c(){return new oi}function is(s){let{element:e,maskInputOptions:t,tagName:r,type:n,value:i,maskInputFn:o}=s,l=i||"";const a=n&&Oe(n);return(t[r.toLowerCase()]||a&&t[a])&&(o?l=o(l,e):l="*".repeat(l.length)),l}function Oe(s){return s.toLowerCase()}const ai="__rrweb_original__";function Dc(s){const e=s.getContext("2d");if(!e)return!0;const t=50;for(let r=0;r<s.width;r+=t)for(let n=0;n<s.height;n+=t){const i=e.getImageData,o=ai in i?i[ai]:i;if(new Uint32Array(o.call(e,r,n,Math.min(t,s.width-r),Math.min(t,s.height-n)).data.buffer).some(a=>a!==0))return!1}return!0}function os(s){const e=s.type;return s.hasAttribute("data-rr-is-password")?"password":e?Oe(e):null}function li(s,e){var t;let r;try{r=new URL(s,e??window.location.href)}catch{return null}const n=/\.([0-9a-z]+)(?:$)/i,i=r.pathname.match(n);return(t=i==null?void 0:i[1])!==null&&t!==void 0?t:null}function Bc(s){let e="";return s.indexOf("//")>-1?e=s.split("/").slice(0,3).join("/"):e=s.split("/")[0],e=e.split("?")[0],e}const Fc=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Uc=/^(?:[a-z+]+:)?\/\//i,Wc=/^www\..*/i,zc=/^(data:)([^,]*),(.*)/i;function Ft(s,e){return(s||"").replace(Fc,(t,r,n,i,o,l)=>{const a=n||o||l,c=r||i||"";if(!a)return t;if(Uc.test(a)||Wc.test(a)||zc.test(a))return"url(".concat(c).concat(a).concat(c,")");if(a[0]==="/")return"url(".concat(c).concat(Bc(e)+a).concat(c,")");const u=e.split("/"),f=a.split("/");u.pop();for(const d of f)d!=="."&&(d===".."?u.pop():u.push(d));return"url(".concat(c).concat(u.join("/")).concat(c,")")})}function as(s){return s.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function Vc(s,e){const t=Array.from(e.childNodes),r=[];if(t.length>1&&s&&typeof s=="string"){const n=as(s);for(let i=1;i<t.length;i++)if(t[i].textContent&&typeof t[i].textContent=="string"){const o=as(t[i].textContent);for(let l=3;l<o.length;l++){const a=o.substring(0,l);if(n.split(a).length===2){const c=n.indexOf(a);for(let u=c;u<s.length;u++)if(as(s.substring(0,u)).length===c){r.push(s.substring(0,u)),s=s.substring(u);break}break}}}}return r.push(s),r}function jc(s,e){return Vc(s,e).join("/* rr_split */")}let Gc=1;const Hc=new RegExp("[^a-z0-9-_:]"),lt=-2;function ci(){return Gc++}function Yc(s){if(s instanceof HTMLFormElement)return"form";const e=Oe(s.tagName);return Hc.test(e)?"div":e}let je,ui;const Jc=/^[^ \t\n\r\u000c]+/,Zc=/^[, \t\n\r\u000c]+/;function Kc(s,e){if(e.trim()==="")return e;let t=0;function r(i){let o;const l=i.exec(e.substring(t));return l?(o=l[0],t+=o.length,o):""}const n=[];for(;r(Zc),!(t>=e.length);){let i=r(Jc);if(i.slice(-1)===",")i=Ge(s,i.substring(0,i.length-1)),n.push(i);else{let o="";i=Ge(s,i);let l=!1;for(;;){const a=e.charAt(t);if(a===""){n.push((i+o).trim());break}else if(l)a===")"&&(l=!1);else if(a===","){t+=1,n.push((i+o).trim());break}else a==="("&&(l=!0);o+=a,t+=1}}}return n.join(", ")}const hi=new WeakMap;function Ge(s,e){return!e||e.trim()===""?e:ls(s,e)}function Xc(s){return!!(s.tagName==="svg"||s.ownerSVGElement)}function ls(s,e){let t=hi.get(s);if(t||(t=s.createElement("a"),hi.set(s,t)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return t.setAttribute("href",e),t.href}function fi(s,e,t,r){return r&&(t==="src"||t==="href"&&!(e==="use"&&r[0]==="#")||t==="xlink:href"&&r[0]!=="#"||t==="background"&&(e==="table"||e==="td"||e==="th")?Ge(s,r):t==="srcset"?Kc(s,r):t==="style"?Ft(r,ls(s)):e==="object"&&t==="data"?Ge(s,r):r)}function di(s,e,t){return(s==="video"||s==="audio")&&e==="autoplay"}function qc(s,e,t){try{if(typeof e=="string"){if(s.classList.contains(e))return!0}else for(let r=s.classList.length;r--;){const n=s.classList[r];if(e.test(n))return!0}if(t)return s.matches(t)}catch{}return!1}function Ut(s,e,t){if(!s)return!1;if(s.nodeType!==s.ELEMENT_NODE)return t?Ut(ee.parentNode(s),e,t):!1;for(let r=s.classList.length;r--;){const n=s.classList[r];if(e.test(n))return!0}return t?Ut(ee.parentNode(s),e,t):!1}function pi(s,e,t,r){let n;if(ni(s)){if(n=s,!ee.childNodes(n).length)return!1}else{if(ee.parentElement(s)===null)return!1;n=ee.parentElement(s)}try{if(typeof e=="string"){if(r){if(n.closest(".".concat(e)))return!0}else if(n.classList.contains(e))return!0}else if(Ut(n,e,r))return!0;if(t){if(r){if(n.closest(t))return!0}else if(n.matches(t))return!0}}catch{}return!1}function Qc(s,e,t){const r=s.contentWindow;if(!r)return;let n=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const l=setTimeout(()=>{n||(e(),n=!0)},t);s.addEventListener("load",()=>{clearTimeout(l),n=!0,e()});return}const o="about:blank";if(r.location.href!==o||s.src===o||s.src==="")return setTimeout(e,0),s.addEventListener("load",e);s.addEventListener("load",e)}function eu(s,e,t){let r=!1,n;try{n=s.sheet}catch{return}if(n)return;const i=setTimeout(()=>{r||(e(),r=!0)},t);s.addEventListener("load",()=>{clearTimeout(i),r=!0,e()})}function tu(s,e){const{doc:t,mirror:r,blockClass:n,blockSelector:i,needsMask:o,inlineStylesheet:l,maskInputOptions:a={},maskTextFn:c,maskInputFn:u,dataURLOptions:f={},inlineImages:d,recordCanvas:m,keepIframeSrcFn:p,newlyAddedElement:y=!1,cssCaptured:h=!1}=e,w=ru(t,r);switch(s.nodeType){case s.DOCUMENT_NODE:return s.compatMode!=="CSS1Compat"?{type:Q.Document,childNodes:[],compatMode:s.compatMode}:{type:Q.Document,childNodes:[]};case s.DOCUMENT_TYPE_NODE:return{type:Q.DocumentType,name:s.name,publicId:s.publicId,systemId:s.systemId,rootId:w};case s.ELEMENT_NODE:return nu(s,{doc:t,blockClass:n,blockSelector:i,inlineStylesheet:l,maskInputOptions:a,maskInputFn:u,dataURLOptions:f,inlineImages:d,recordCanvas:m,keepIframeSrcFn:p,newlyAddedElement:y,rootId:w});case s.TEXT_NODE:return su(s,{doc:t,needsMask:o,maskTextFn:c,rootId:w,cssCaptured:h});case s.CDATA_SECTION_NODE:return{type:Q.CDATA,textContent:"",rootId:w};case s.COMMENT_NODE:return{type:Q.Comment,textContent:ee.textContent(s)||"",rootId:w};default:return!1}}function ru(s,e){if(!e.hasNode(s))return;const t=e.getId(s);return t===1?void 0:t}function su(s,e){const{needsMask:t,maskTextFn:r,rootId:n,cssCaptured:i}=e,o=ee.parentNode(s),l=o&&o.tagName;let a="";const c=l==="STYLE"?!0:void 0,u=l==="SCRIPT"?!0:void 0;return u?a="SCRIPT_PLACEHOLDER":i||(a=ee.textContent(s),c&&a&&(a=Ft(a,ls(e.doc)))),!c&&!u&&a&&t&&(a=r?r(a,ee.parentElement(s)):a.replace(/[\S]/g,"*")),{type:Q.Text,textContent:a||"",rootId:n}}function nu(s,e){const{doc:t,blockClass:r,blockSelector:n,inlineStylesheet:i,maskInputOptions:o={},maskInputFn:l,dataURLOptions:a={},inlineImages:c,recordCanvas:u,keepIframeSrcFn:f,newlyAddedElement:d=!1,rootId:m}=e,p=qc(s,r,n),y=Yc(s);let h={};const w=s.attributes.length;for(let b=0;b<w;b++){const g=s.attributes[b];di(y,g.name,g.value)||(h[g.name]=fi(t,y,Oe(g.name),g.value))}if(y==="link"&&i){const b=Array.from(t.styleSheets).find(v=>v.href===s.href);let g=null;b&&(g=ns(b)),g&&(delete h.rel,delete h.href,h._cssText=g)}if(y==="style"&&s.sheet){let b=ns(s.sheet);b&&(s.childNodes.length>1&&(b=jc(b,s)),h._cssText=b)}if(y==="input"||y==="textarea"||y==="select"){const b=s.value,g=s.checked;h.type!=="radio"&&h.type!=="checkbox"&&h.type!=="submit"&&h.type!=="button"&&b?h.value=is({element:s,type:os(s),tagName:y,value:b,maskInputOptions:o,maskInputFn:l}):g&&(h.checked=g)}if(y==="option"&&(s.selected&&!o.select?h.selected=!0:delete h.selected),y==="dialog"&&s.open&&(h.rr_open_mode=s.matches("dialog:modal")?"modal":"non-modal"),y==="canvas"&&u){if(s.__context==="2d")Dc(s)||(h.rr_dataURL=s.toDataURL(a.type,a.quality));else if(!("__context"in s)){const b=s.toDataURL(a.type,a.quality),g=t.createElement("canvas");g.width=s.width,g.height=s.height;const v=g.toDataURL(a.type,a.quality);b!==v&&(h.rr_dataURL=b)}}if(y==="img"&&c){je||(je=t.createElement("canvas"),ui=je.getContext("2d"));const b=s,g=b.currentSrc||b.getAttribute("src")||"<unknown-src>",v=b.crossOrigin,C=()=>{b.removeEventListener("load",C);try{je.width=b.naturalWidth,je.height=b.naturalHeight,ui.drawImage(b,0,0),h.rr_dataURL=je.toDataURL(a.type,a.quality)}catch(O){if(b.crossOrigin!=="anonymous"){b.crossOrigin="anonymous",b.complete&&b.naturalWidth!==0?C():b.addEventListener("load",C);return}else console.warn("Cannot inline img src=".concat(g,"! Error: ").concat(O))}b.crossOrigin==="anonymous"&&(v?h.crossOrigin=v:b.removeAttribute("crossorigin"))};b.complete&&b.naturalWidth!==0?C():b.addEventListener("load",C)}if(y==="audio"||y==="video"){const b=h;b.rr_mediaState=s.paused?"paused":"played",b.rr_mediaCurrentTime=s.currentTime,b.rr_mediaPlaybackRate=s.playbackRate,b.rr_mediaMuted=s.muted,b.rr_mediaLoop=s.loop,b.rr_mediaVolume=s.volume}if(d||(s.scrollLeft&&(h.rr_scrollLeft=s.scrollLeft),s.scrollTop&&(h.rr_scrollTop=s.scrollTop)),p){const{width:b,height:g}=s.getBoundingClientRect();h={class:h.class,rr_width:"".concat(b,"px"),rr_height:"".concat(g,"px")}}y==="iframe"&&!f(h.src)&&(s.contentDocument||(h.rr_src=h.src),delete h.src);let I;try{customElements.get(y)&&(I=!0)}catch{}return{type:Q.Element,tagName:y,attributes:h,childNodes:[],isSVG:Xc(s)||void 0,needBlock:p,rootId:m,isCustom:I}}function W(s){return s==null?"":s.toLowerCase()}function iu(s,e){if(e.comment&&s.type===Q.Comment)return!0;if(s.type===Q.Element){if(e.script&&(s.tagName==="script"||s.tagName==="link"&&(s.attributes.rel==="preload"||s.attributes.rel==="modulepreload")&&s.attributes.as==="script"||s.tagName==="link"&&s.attributes.rel==="prefetch"&&typeof s.attributes.href=="string"&&li(s.attributes.href)==="js"))return!0;if(e.headFavicon&&(s.tagName==="link"&&s.attributes.rel==="shortcut icon"||s.tagName==="meta"&&(W(s.attributes.name).match(/^msapplication-tile(image|color)$/)||W(s.attributes.name)==="application-name"||W(s.attributes.rel)==="icon"||W(s.attributes.rel)==="apple-touch-icon"||W(s.attributes.rel)==="shortcut icon")))return!0;if(s.tagName==="meta"){if(e.headMetaDescKeywords&&W(s.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(W(s.attributes.property).match(/^(og|twitter|fb):/)||W(s.attributes.name).match(/^(og|twitter):/)||W(s.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(W(s.attributes.name)==="robots"||W(s.attributes.name)==="googlebot"||W(s.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&s.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(W(s.attributes.name)==="author"||W(s.attributes.name)==="generator"||W(s.attributes.name)==="framework"||W(s.attributes.name)==="publisher"||W(s.attributes.name)==="progid"||W(s.attributes.property).match(/^article:/)||W(s.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(W(s.attributes.name)==="google-site-verification"||W(s.attributes.name)==="yandex-verification"||W(s.attributes.name)==="csrf-token"||W(s.attributes.name)==="p:domain_verify"||W(s.attributes.name)==="verify-v1"||W(s.attributes.name)==="verification"||W(s.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function He(s,e){const{doc:t,mirror:r,blockClass:n,blockSelector:i,maskTextClass:o,maskTextSelector:l,skipChild:a=!1,inlineStylesheet:c=!0,maskInputOptions:u={},maskTextFn:f,maskInputFn:d,slimDOMOptions:m,dataURLOptions:p={},inlineImages:y=!1,recordCanvas:h=!1,onSerialize:w,onIframeLoad:I,iframeLoadTimeout:b=5e3,onStylesheetLoad:g,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:O=!1,cssCaptured:E=!1}=e;let{needsMask:x}=e,{preserveWhiteSpace:$=!0}=e;x||(x=pi(s,o,l,x===void 0));const j=tu(s,{doc:t,mirror:r,blockClass:n,blockSelector:i,needsMask:x,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,dataURLOptions:p,inlineImages:y,recordCanvas:h,keepIframeSrcFn:C,newlyAddedElement:O,cssCaptured:E});if(!j)return console.warn(s,"not serialized"),null;let q;r.hasNode(s)?q=r.getId(s):iu(j,m)||!$&&j.type===Q.Text&&!j.textContent.replace(/^\s+|\s+$/gm,"").length?q=lt:q=ci();const R=Object.assign(j,{id:q});if(r.add(s,R),q===lt)return null;w&&w(s);let ie=!a;if(R.type===Q.Element){ie=ie&&!R.needBlock,delete R.needBlock;const Y=ee.shadowRoot(s);Y&&at(Y)&&(R.isShadowHost=!0)}if((R.type===Q.Document||R.type===Q.Element)&&ie){m.headWhitespace&&R.type===Q.Element&&R.tagName==="head"&&($=!1);const Y={doc:t,mirror:r,blockClass:n,blockSelector:i,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:a,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:m,dataURLOptions:p,inlineImages:y,recordCanvas:h,preserveWhiteSpace:$,onSerialize:w,onIframeLoad:I,iframeLoadTimeout:b,onStylesheetLoad:g,stylesheetLoadTimeout:v,keepIframeSrcFn:C,cssCaptured:!1};if(!(R.type===Q.Element&&R.tagName==="textarea"&&R.attributes.value!==void 0)){R.type===Q.Element&&R.attributes._cssText!==void 0&&typeof R.attributes._cssText=="string"&&(Y.cssCaptured=!0);for(const we of Array.from(ee.childNodes(s))){const ae=He(we,Y);ae&&R.childNodes.push(ae)}}let se=null;if(ni(s)&&(se=ee.shadowRoot(s)))for(const we of Array.from(ee.childNodes(se))){const ae=He(we,Y);ae&&(at(se)&&(ae.isShadow=!0),R.childNodes.push(ae))}}const de=ee.parentNode(s);return de&&ot(de)&&at(de)&&(R.isShadow=!0),R.type===Q.Element&&R.tagName==="iframe"&&Qc(s,()=>{const Y=s.contentDocument;if(Y&&I){const se=He(Y,{doc:Y,mirror:r,blockClass:n,blockSelector:i,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:m,dataURLOptions:p,inlineImages:y,recordCanvas:h,preserveWhiteSpace:$,onSerialize:w,onIframeLoad:I,iframeLoadTimeout:b,onStylesheetLoad:g,stylesheetLoadTimeout:v,keepIframeSrcFn:C});se&&I(s,se)}},b),R.type===Q.Element&&R.tagName==="link"&&typeof R.attributes.rel=="string"&&(R.attributes.rel==="stylesheet"||R.attributes.rel==="preload"&&typeof R.attributes.href=="string"&&li(R.attributes.href)==="css")&&eu(s,()=>{if(g){const Y=He(s,{doc:t,mirror:r,blockClass:n,blockSelector:i,needsMask:x,maskTextClass:o,maskTextSelector:l,skipChild:!1,inlineStylesheet:c,maskInputOptions:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:m,dataURLOptions:p,inlineImages:y,recordCanvas:h,preserveWhiteSpace:$,onSerialize:w,onIframeLoad:I,iframeLoadTimeout:b,onStylesheetLoad:g,stylesheetLoadTimeout:v,keepIframeSrcFn:C});Y&&g(s,Y)}},v),R}function ou(s,e){const{mirror:t=new oi,blockClass:r="rr-block",blockSelector:n=null,maskTextClass:i="rr-mask",maskTextSelector:o=null,inlineStylesheet:l=!0,inlineImages:a=!1,recordCanvas:c=!1,maskAllInputs:u=!1,maskTextFn:f,maskInputFn:d,slimDOM:m=!1,dataURLOptions:p,preserveWhiteSpace:y,onSerialize:h,onIframeLoad:w,iframeLoadTimeout:I,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:v=()=>!1}=e||{};return He(s,{doc:s,mirror:t,blockClass:r,blockSelector:n,maskTextClass:i,maskTextSelector:o,skipChild:!1,inlineStylesheet:l,maskInputOptions:u===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:u===!1?{password:!0}:u,maskTextFn:f,maskInputFn:d,slimDOMOptions:m===!0||m==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:m==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:m===!1?{}:m,dataURLOptions:p,inlineImages:a,recordCanvas:c,preserveWhiteSpace:y,onSerialize:h,onIframeLoad:w,iframeLoadTimeout:I,onStylesheetLoad:b,stylesheetLoadTimeout:g,keepIframeSrcFn:v,newlyAddedElement:!1})}function au(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function lu(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var n=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return s[r]}})}),t}var cs={exports:{}},z=String,mi=function(){return{isColorSupported:!1,reset:z,bold:z,dim:z,italic:z,underline:z,inverse:z,hidden:z,strikethrough:z,black:z,red:z,green:z,yellow:z,blue:z,magenta:z,cyan:z,white:z,gray:z,bgBlack:z,bgRed:z,bgGreen:z,bgYellow:z,bgBlue:z,bgMagenta:z,bgCyan:z,bgWhite:z}};cs.exports=mi(),cs.exports.createColors=mi;var cu=cs.exports;const ue=lu(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let gi=cu,yi=ue,us=class Ka extends Error{constructor(e,t,r,n,i,o){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),n&&(this.source=n),o&&(this.plugin=o),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Ka)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=gi.isColorSupported),yi&&e&&(t=yi(t));let r=t.split(/\r?\n/),n=Math.max(this.line-3,0),i=Math.min(this.line+2,r.length),o=String(i).length,l,a;if(e){let{bold:c,gray:u,red:f}=gi.createColors(!0);l=d=>c(f(d)),a=d=>u(d)}else l=a=c=>c;return r.slice(n,i).map((c,u)=>{let f=n+1+u,d=" "+(" "+f).slice(-o)+" | ";if(f===this.line){let m=a(d.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+c+`
 `+m+l("^")}return" "+a(d)+c}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var hs=us;us.default=us;var ct={};ct.isClean=Symbol("isClean"),ct.my=Symbol("my");const wi={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function uu(s){return s[0].toUpperCase()+s.slice(1)}let fs=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let n=e.parent,i=0;for(;n&&n.type!=="root";)i+=1,n=n.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<i;l++)r+=o}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let n;e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let i=e.nodes[n],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],typeof n<"u"))return n;let i=e.parent;if(r==="before"&&(!i||i.type==="root"&&i.first===e||i&&i.type==="document"))return"";if(!i)return wi[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+uu(r);this[l]?n=this[l](o,e):o.walk(a=>{if(n=a.raws[t],typeof n<"u")return!1})}return typeof n>"u"&&(n=wi[r]),o.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&typeof r.raws.before<"u"){let i=r.raws.before.split(`
`);return t=i[i.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var bi=fs;fs.default=fs;let hu=bi;function ds(s,e){new hu(e).stringify(s)}var Wt=ds;ds.default=ds;let{isClean:zt,my:fu}=ct,du=hs,pu=bi,mu=Wt;function ps(s,e){let t=new s.constructor;for(let r in s){if(!Object.prototype.hasOwnProperty.call(s,r)||r==="proxyCache")continue;let n=s[r],i=typeof n;r==="parent"&&i==="object"?e&&(t[r]=e):r==="source"?t[r]=n:Array.isArray(n)?t[r]=n.map(o=>ps(o,t)):(i==="object"&&n!==null&&(n=ps(n)),t[r]=n)}return t}let ms=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.raws={},this[zt]=!1,this[fu]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ps(this);for(let r in e)t[r]=e[r];return t}cloneAfter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new du(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[zt]){this[zt]=!1;let e=this;for(;e=e.parent;)e[zt]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let n=t.indexOf(e.word);n!==-1&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,i=this.source.start.line;for(let o=0;o<e;o++)r[o]===`
`?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),i=n.indexOf(e.word);i!==-1&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new pu().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let n=this,i=!1;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let o of t)o===this?i=!0:i?(this.parent.insertAfter(n,o),n=o):this.parent.insertBefore(n,o);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},n=t==null;t=t||new Map;let i=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))r[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=i,t.set(l.input,i),i++),r[o]={end:l.end,inputId:a,start:l.start}}else r[o]=l}return n&&(r.inputs=[...t.keys()].map(o=>o.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mu;e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let n={node:this};for(let i in r)n[i]=r[i];return e.warn(t,n)}get proxyOf(){return this}};var Vt=ms;ms.default=ms;let gu=Vt,gs=class extends gu{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e=_objectSpread(_objectSpread({},e),{},{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var jt=gs;gs.default=gs;let yu="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var wu={nanoid:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,e="",t=s;for(;t--;)e+=yu[Math.random()*64|0];return e},customAlphabet:function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:21;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e,r="",n=t;for(;n--;)r+=s[Math.random()*s.length|0];return r}}};let{SourceMapConsumer:vi,SourceMapGenerator:Si}=ue,{existsSync:bu,readFileSync:vu}=ue,{dirname:ys,join:Su}=ue;function Cu(s){return Buffer?Buffer.from(s,"base64").toString():window.atob(s)}let ws=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=ys(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new vi(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,i=/^data:application\/json,/;if(n.test(e)||i.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return Cu(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=ys(e),bu(e))return this.mapFile=e,vu(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(t instanceof vi)return Si.fromSourceMap(t).toString();if(t instanceof Si)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=Su(ys(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Ci=ws;ws.default=ws;let{SourceMapConsumer:Iu,SourceMapGenerator:Eu}=ue,{fileURLToPath:Ii,pathToFileURL:Gt}=ue,{isAbsolute:bs,resolve:vs}=ue,{nanoid:xu}=wu,Ss=ue,Ei=hs,Au=Ci,Cs=Symbol("fromOffsetCache"),Ou=!!(Iu&&Eu),xi=!!(vs&&bs),Ht=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!xi||/^\w+:\/\//.test(t.from)||bs(t.from)?this.file=t.from:this.file=vs(t.from)),xi&&Ou){let r=new Au(this.css,t);if(r.text){this.map=r;let n=r.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+xu(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i,o,l;if(t&&typeof t=="object"){let c=t,u=r;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);t=f.line,r=f.col}else t=c.line,r=c.column;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);o=f.line,l=f.col}else o=u.line,l=u.column}else if(!r){let c=this.fromOffset(t);t=c.line,r=c.col}let a=this.origin(t,r,o,l);return a?i=new Ei(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):i=new Ei(e,o===void 0?t:{column:r,line:t},o===void 0?r:{column:l,line:o},this.css,this.file,n.plugin),i.input={column:r,endColumn:l,endLine:o,line:t,source:this.css},this.file&&(Gt&&(i.input.url=Gt(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,r;if(this[Cs])r=this[Cs];else{let i=this.css.split(`
`);r=new Array(i.length);let o=0;for(let l=0,a=i.length;l<a;l++)r[l]=o,o+=i[l].length+1;this[Cs]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let i=r.length-2,o;for(;n<i;)if(o=n+(i-n>>1),e<r[o])i=o-1;else if(e>=r[o+1])n=o+1;else{n=o;break}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:vs(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let i=this.map.consumer(),o=i.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof r=="number"&&(l=i.originalPositionFor({column:n,line:r}));let a;bs(o.source)?a=Gt(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||Gt(this.map.mapFile));let c={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(Ii)c.file=Ii(a);else throw new Error("file: protocol is not available in this PostCSS build");let u=i.sourceContentFor(o.source);return u&&(c.source=u),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=_objectSpread({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Yt=Ht;Ht.default=Ht,Ss&&Ss.registerInput&&Ss.registerInput(Ht);let{SourceMapConsumer:Ai,SourceMapGenerator:Jt}=ue,{dirname:Zt,relative:Oi,resolve:Ri,sep:Mi}=ue,{pathToFileURL:Ti}=ue,Ru=Yt,Mu=!!(Ai&&Jt),Tu=!!(Zt&&Ri&&Oi&&Mi);var ki=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||Zt(e.file),n;this.mapOpts.sourcesContent===!1?(n=new Ai(e.text),n.sourcesContent&&(n.sourcesContent=null)):n=e.consumer(),this.map.applySourceMap(n,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Tu&&Mu&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Jt.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Jt({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Jt({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""},i,o;this.stringify(this.root,(l,a,c)=>{if(this.css+=l,a&&c!=="end"&&(n.generated.line=e,n.generated.column=t-1,a.source&&a.source.start?(n.source=this.sourcePath(a),n.original.line=a.source.start.line,n.original.column=a.source.start.column-1,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,this.map.addMapping(n))),i=l.match(/\n/g),i?(e+=i.length,o=l.lastIndexOf(`
`),t=l.length-o):t+=l.length,a&&c!=="start"){let u=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==u.last||u.raws.semicolon)&&(a.source&&a.source.end?(n.source=this.sourcePath(a),n.original.line=a.source.end.line,n.original.column=a.source.end.column-1,n.generated.line=e,n.generated.column=t-2,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,n.generated.line=e,n.generated.column=t-1,this.map.addMapping(n)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Zt(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=Zt(Ri(r,this.mapOpts.annotation)));let n=Oi(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Ru(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Ti){let r=Ti(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;Mi==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let ku=Vt,Is=class extends ku{constructor(e){super(e),this.type="comment"}};var Kt=Is;Is.default=Is;let{isClean:Ni,my:$i}=ct,Li=jt,Pi=Kt,Nu=Vt,_i,Es,xs,Di;function Bi(s){return s.map(e=>(e.nodes&&(e.nodes=Bi(e.nodes)),delete e.source,e))}function Fi(s){if(s[Ni]=!1,s.proxyOf.nodes)for(let e of s.proxyOf.nodes)Fi(e)}let ve=class Xa extends Nu{append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n of t){let i=this.normalize(n,this.last);for(let o of i)this.proxyOf.nodes.push(o)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,n;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],n=e(this.proxyOf.nodes[r],r),n!==!1);)this.indexes[t]+=1;return delete this.indexes[t],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e[t](...n.map(o=>typeof o=="function"?(l,a)=>o(l.toProxy(),a):o))}:t==="every"||t==="some"?r=>e[t](function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r(n.toProxy(),...o)}):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),n=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of n)this.proxyOf.nodes.splice(r+1,0,o);let i;for(let o in this.indexes)i=this.indexes[o],r<i&&(this.indexes[o]=i+n.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),n=r===0?"prepend":!1,i=this.normalize(t,this.proxyOf.nodes[r],n).reverse();r=this.index(e);for(let l of i)this.proxyOf.nodes.splice(r,0,l);let o;for(let l in this.indexes)o=this.indexes[l],r<=o&&(this.indexes[l]=o+i.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Bi(_i(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Li(e)]}else if(e.selector)e=[new Es(e)];else if(e.name)e=[new xs(e)];else if(e.text)e=[new Pi(e)];else throw new Error("Unknown node type in node creation");return e.map(n=>(n[$i]||Xa.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[Ni]&&Fi(n),typeof n.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(n.raws.before=t.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.reverse();for(let n of t){let i=this.normalize(n,this.first,"prepend").reverse();for(let o of i)this.proxyOf.nodes.unshift(o);for(let o in this.indexes)this.indexes[o]=this.indexes[o]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let n;try{n=e(t,r)}catch(i){throw t.addToError(i)}return n!==!1&&t.walk&&(n=t.walk(e)),n})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,n)}):this.walk((r,n)=>{if(r.type==="atrule"&&r.name===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="atrule")return t(r,n)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,n)}):this.walk((r,n)=>{if(r.type==="decl"&&r.prop===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="decl")return t(r,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,n)}):this.walk((r,n)=>{if(r.type==="rule"&&r.selector===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="rule")return t(r,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ve.registerParse=s=>{_i=s},ve.registerRule=s=>{Es=s},ve.registerAtRule=s=>{xs=s},ve.registerRoot=s=>{Di=s};var Re=ve;ve.default=ve,ve.rebuild=s=>{s.type==="atrule"?Object.setPrototypeOf(s,xs.prototype):s.type==="rule"?Object.setPrototypeOf(s,Es.prototype):s.type==="decl"?Object.setPrototypeOf(s,Li.prototype):s.type==="comment"?Object.setPrototypeOf(s,Pi.prototype):s.type==="root"&&Object.setPrototypeOf(s,Di.prototype),s[$i]=!0,s.nodes&&s.nodes.forEach(e=>{ve.rebuild(e)})};let $u=Re,Ui,Wi,ut=class extends $u{constructor(e){super(_objectSpread({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ui(new Wi,this,e).stringify()}};ut.registerLazyResult=s=>{Ui=s},ut.registerProcessor=s=>{Wi=s};var As=ut;ut.default=ut;let zi={};var Vi=function(e){zi[e]||(zi[e]=!0,typeof console<"u"&&console.warn&&console.warn(e))};let Os=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var ji=Os;Os.default=Os;let Lu=ji,Rs=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Lu(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Ms=Rs;Rs.default=Rs;const Ts="'".charCodeAt(0),Gi='"'.charCodeAt(0),Xt="\\".charCodeAt(0),Hi="/".charCodeAt(0),qt=`
`.charCodeAt(0),ht=" ".charCodeAt(0),Qt="\f".charCodeAt(0),er="	".charCodeAt(0),tr="\r".charCodeAt(0),Pu="[".charCodeAt(0),_u="]".charCodeAt(0),Du="(".charCodeAt(0),Bu=")".charCodeAt(0),Fu="{".charCodeAt(0),Uu="}".charCodeAt(0),Wu=";".charCodeAt(0),zu="*".charCodeAt(0),Vu=":".charCodeAt(0),ju="@".charCodeAt(0),rr=/[\t\n\f\r "#'()/;[\\\]{}]/g,sr=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Gu=/.[\r\n"'(/\\]/,Yi=/[\da-f]/i;var Hu=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.css.valueOf(),n=t.ignoreErrors,i,o,l,a,c,u,f,d,m,p,y=r.length,h=0,w=[],I=[];function b(){return h}function g(E){throw e.error("Unclosed "+E,h)}function v(){return I.length===0&&h>=y}function C(E){if(I.length)return I.pop();if(h>=y)return;let x=E?E.ignoreUnclosed:!1;switch(i=r.charCodeAt(h),i){case qt:case ht:case er:case tr:case Qt:{o=h;do o+=1,i=r.charCodeAt(o);while(i===ht||i===qt||i===er||i===tr||i===Qt);p=["space",r.slice(h,o)],h=o-1;break}case Pu:case _u:case Fu:case Uu:case Vu:case Wu:case Bu:{let $=String.fromCharCode(i);p=[$,$,h];break}case Du:{if(d=w.length?w.pop()[1]:"",m=r.charCodeAt(h+1),d==="url"&&m!==Ts&&m!==Gi&&m!==ht&&m!==qt&&m!==er&&m!==Qt&&m!==tr){o=h;do{if(u=!1,o=r.indexOf(")",o+1),o===-1)if(n||x){o=h;break}else g("bracket");for(f=o;r.charCodeAt(f-1)===Xt;)f-=1,u=!u}while(u);p=["brackets",r.slice(h,o+1),h,o],h=o}else o=r.indexOf(")",h+1),a=r.slice(h,o+1),o===-1||Gu.test(a)?p=["(","(",h]:(p=["brackets",a,h,o],h=o);break}case Ts:case Gi:{l=i===Ts?"'":'"',o=h;do{if(u=!1,o=r.indexOf(l,o+1),o===-1)if(n||x){o=h+1;break}else g("string");for(f=o;r.charCodeAt(f-1)===Xt;)f-=1,u=!u}while(u);p=["string",r.slice(h,o+1),h,o],h=o;break}case ju:{rr.lastIndex=h+1,rr.test(r),rr.lastIndex===0?o=r.length-1:o=rr.lastIndex-2,p=["at-word",r.slice(h,o+1),h,o],h=o;break}case Xt:{for(o=h,c=!0;r.charCodeAt(o+1)===Xt;)o+=1,c=!c;if(i=r.charCodeAt(o+1),c&&i!==Hi&&i!==ht&&i!==qt&&i!==er&&i!==tr&&i!==Qt&&(o+=1,Yi.test(r.charAt(o)))){for(;Yi.test(r.charAt(o+1));)o+=1;r.charCodeAt(o+1)===ht&&(o+=1)}p=["word",r.slice(h,o+1),h,o],h=o;break}default:{i===Hi&&r.charCodeAt(h+1)===zu?(o=r.indexOf("*/",h+2)+1,o===0&&(n||x?o=r.length:g("comment")),p=["comment",r.slice(h,o+1),h,o],h=o):(sr.lastIndex=h+1,sr.test(r),sr.lastIndex===0?o=r.length-1:o=sr.lastIndex-2,p=["word",r.slice(h,o+1),h,o],w.push(p),h=o);break}}return h++,p}function O(E){I.push(E)}return{back:O,endOfFile:v,nextToken:C,position:b}};let Ji=Re,nr=class extends Ji{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var ks=nr;nr.default=nr,Ji.registerAtRule(nr);let Zi=Re,Ki,Xi,Ye=class extends Zi{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of n)i.raws.before=t.raws.before}return n}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ki(new Xi,this,e).stringify()}};Ye.registerLazyResult=s=>{Ki=s},Ye.registerProcessor=s=>{Xi=s};var ft=Ye;Ye.default=Ye,Zi.registerRoot(Ye);let dt={comma(s){return dt.split(s,[","],!0)},space(s){let e=[" ",`
`,"	"];return dt.split(s,e)},split(s,e,t){let r=[],n="",i=!1,o=0,l=!1,a="",c=!1;for(let u of s)c?c=!1:u==="\\"?c=!0:l?u===a&&(l=!1):u==='"'||u==="'"?(l=!0,a=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(i=!0),i?(n!==""&&r.push(n.trim()),n="",i=!1):n+=u;return(t||n!=="")&&r.push(n.trim()),r}};var qi=dt;dt.default=dt;let Qi=Re,Yu=qi,ir=class extends Qi{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Yu.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var Ns=ir;ir.default=ir,Qi.registerRule(ir);let Ju=jt,Zu=Hu,Ku=Kt,Xu=ks,qu=ft,eo=Ns;const to={empty:!0,space:!0};function Qu(s){for(let e=s.length-1;e>=0;e--){let t=s[e],r=t[3]||t[2];if(r)return r}}var eh=class{constructor(e){this.input=e,this.root=new qu,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Xu;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,n,i,o=!1,l=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?c.push(r==="("?")":"]"):r==="{"&&c.length>0?c.push("}"):r===c[c.length-1]&&c.pop(),c.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(i=a.length-1,n=a[i];n&&n[0]==="space";)n=a[--i];n&&(t.source.end=this.getPosition(n[3]||n[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,n;for(let i=t-1;i>=0&&(n=e[i],!(n[0]!=="space"&&(r+=1,r===2)));i--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}colon(e){let t=0,r,n,i;for(let[o,l]of e.entries()){if(r=l,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return o}i=r}return!1}comment(e){let t=new Ku;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=Zu(this.input)}decl(e,t){let r=new Ju;this.init(r,e[0][2]);let n=e[e.length-1];for(n[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(n[3]||n[2]||Qu(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let c=e[0][0];if(c===":"||c==="space"||c==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let i;for(;e.length;)if(i=e.shift(),i[0]===":"){r.raws.between+=i[1];break}else i[0]==="word"&&/\w/.test(i[1])&&this.unknownWord([i]),r.raws.between+=i[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let c=e.length-1;c>=0;c--){if(i=e[c],i[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,c);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(i[1].toLowerCase()==="important"){let u=e.slice(0),f="";for(let d=c;d>0;d--){let m=u[d][0];if(f.trim().indexOf("!")===0&&m!=="space")break;f=u.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=u)}if(i[0]!=="space"&&i[0]!=="comment")break}e.some(c=>c[0]!=="space"&&c[0]!=="comment")&&(r.raws.between+=o.map(c=>c[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new eo;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,i=null,o=[],l=e[1].startsWith("--"),a=[],c=e;for(;c;){if(r=c[0],a.push(c),r==="("||r==="[")i||(i=c),o.push(r==="("?")":"]");else if(l&&n&&r==="{")i||(i=c),o.push("}");else if(o.length===0)if(r===";")if(n){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(n=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&n){if(!l)for(;a.length&&(c=a[a.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let i,o,l=r.length,a="",c=!0,u,f;for(let d=0;d<l;d+=1)i=r[d],o=i[0],o==="space"&&d===l-1&&!n?c=!1:o==="comment"?(f=r[d-1]?r[d-1][0]:"empty",u=r[d+1]?r[d+1][0]:"empty",!to[f]&&!to[u]?a.slice(-1)===","?c=!1:a+=i[1]:c=!1):a+=i[1];if(!c){let d=r.reduce((m,p)=>m+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new eo;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let th=Re,rh=eh,sh=Yt;function or(s,e){let t=new sh(s,e),r=new rh(t);try{r.parse()}catch(n){throw process.env.NODE_ENV!=="production"&&n.name==="CssSyntaxError"&&e&&e.from&&(/\.scss$/i.test(e.from)?n.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(e.from)?n.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(e.from)&&(n.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),n}return r.root}var $s=or;or.default=or,th.registerParse(or);let{isClean:ge,my:nh}=ct,ih=ki,oh=Wt,ah=Re,lh=As,ch=Vi,ro=Ms,uh=$s,hh=ft;const fh={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},dh={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},ph={Once:!0,postcssPlugin:!0,prepare:!0},Je=0;function pt(s){return typeof s=="object"&&typeof s.then=="function"}function so(s){let e=!1,t=fh[s.type];return s.type==="decl"?e=s.prop.toLowerCase():s.type==="atrule"&&(e=s.name.toLowerCase()),e&&s.append?[t,t+"-"+e,Je,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:s.append?[t,Je,t+"Exit"]:[t,t+"Exit"]}function no(s){let e;return s.type==="document"?e=["Document",Je,"DocumentExit"]:s.type==="root"?e=["Root",Je,"RootExit"]:e=so(s),{eventIndex:0,events:e,iterator:0,node:s,visitorIndex:0,visitors:[]}}function Ls(s){return s[ge]=!1,s.nodes&&s.nodes.forEach(e=>Ls(e)),s}let Ps={},Ze=class qa{constructor(e,t,r){this.stringified=!1,this.processed=!1;let n;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))n=Ls(t);else if(t instanceof qa||t instanceof ro)n=Ls(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let i=uh;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{n=i(t,r)}catch(o){this.processed=!0,this.error=o}n&&!n[nh]&&ah.rebuild(n)}this.result=new ro(e,n,r),this.helpers=_objectSpread(_objectSpread({},Ps),{},{postcss:Ps,result:this.result}),this.plugins=this.processor.plugins.map(i=>typeof i=="object"&&i.prepare?_objectSpread(_objectSpread({},i),i.prepare(this.result)):i)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin)e.plugin=r.postcssPlugin,e.setMessage();else if(r.postcssVersion&&process.env.NODE_ENV!=="production"){let n=r.postcssPlugin,i=r.postcssVersion,o=this.result.processor.version,l=i.split("."),a=o.split(".");(l[0]!==a[0]||parseInt(l[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+i+". Perhaps this is the source of the error below.")}}catch(n){console&&console.error&&console.error(n)}return e}prepareVisitors(){this.listeners={};let e=(t,r,n)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,n])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!dh[r]&&/^[A-Z]/.test(r))throw new Error("Unknown event ".concat(r," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!ph[r])if(typeof t[r]=="object")for(let n in t[r])n==="*"?e(t,r,t[r][n]):e(t,r+"-"+n.toLowerCase(),t[r][n]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(pt(r))try{await r}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ge];){e[ge]=!0;let t=[no(e)];for(;t.length>0;){let r=this.visitTick(t);if(pt(r))try{await r}catch(n){let i=t[t.length-1].node;throw this.handleError(n,i)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let n=e.nodes.map(i=>r(i,this.helpers));await Promise.all(n)}else await r(e,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return pt(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=oh;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new ih(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(pt(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ge];)e[ge]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this.opts||ch("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){this.result.lastPlugin=r;let i;try{i=n(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(pt(i))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(n.length>0&&t.visitorIndex<n.length){let[o,l]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=r.nodes[r.indexes[o]];)if(r.indexes[o]+=1,!l[ge]){l[ge]=!0,e.push(no(l));return}t.iterator=0,delete r.indexes[o]}let i=t.events;for(;t.eventIndex<i.length;){let o=i[t.eventIndex];if(t.eventIndex+=1,o===Je){r.nodes&&r.nodes.length&&(r[ge]=!0,t.iterator=r.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[ge]=!0;let t=so(e);for(let r of t)if(r===Je)e.nodes&&e.each(n=>{n[ge]||this.walkSync(n)});else{let n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Ze.registerPostcss=s=>{Ps=s};var io=Ze;Ze.default=Ze,hh.registerLazyResult(Ze),lh.registerLazyResult(Ze);let mh=ki,gh=Wt,yh=Vi,wh=$s;const bh=Ms;let _s=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let n,i=gh;this.result=new bh(this._processor,n,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new mh(i,n,this._opts,t);if(l.isMap()){let[a,c]=l.generate();a&&(this.result.css=a),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this._opts||yh("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=wh;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var vh=_s;_s.default=_s;let Sh=vh,Ch=io,Ih=As,Eh=ft,mt=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(typeof r=="object"&&(r.parse||r.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(r+" is not a PostCSS plugin");return t}process(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new Sh(this,e,t):new Ch(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var xh=mt;mt.default=mt,Eh.registerProcessor(mt),Ih.registerProcessor(mt);let Ah=jt,Oh=Ci,Rh=Kt,Mh=ks,Th=Yt,kh=ft,Nh=Ns;function gt(s,e){if(Array.isArray(s))return s.map(n=>gt(n));let{inputs:t}=s,r=_objectWithoutProperties(s,_excluded);if(t){e=[];for(let n of t){let i=_objectSpread(_objectSpread({},n),{},{__proto__:Th.prototype});i.map&&(i.map=_objectSpread(_objectSpread({},i.map),{},{__proto__:Oh.prototype})),e.push(i)}}if(r.nodes&&(r.nodes=s.nodes.map(n=>gt(n,e))),r.source){let n=r.source,{inputId:i}=n,o=_objectWithoutProperties(n,_excluded2);r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new kh(r);if(r.type==="decl")return new Ah(r);if(r.type==="rule")return new Nh(r);if(r.type==="comment")return new Rh(r);if(r.type==="atrule")return new Mh(r);throw new Error("Unknown node type: "+s.type)}var $h=gt;gt.default=gt;let Lh=hs,oo=jt,Ph=io,_h=Re,Ds=xh,Dh=Wt,Bh=$h,ao=As,Fh=ji,lo=Kt,co=ks,Uh=Ms,Wh=Yt,zh=$s,Vh=qi,uo=Ns,ho=ft,jh=Vt;function _(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new Ds(e)}_.plugin=function(e,t){let r=!1;function n(){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let o=t(...arguments);return o.postcssPlugin=e,o.postcssVersion=new Ds().version,o}let i;return Object.defineProperty(n,"postcss",{get(){return i||(i=n()),i}}),n.process=function(o,l,a){return _([n(a)]).process(o,l)},n},_.stringify=Dh,_.parse=zh,_.fromJSON=Bh,_.list=Vh,_.comment=s=>new lo(s),_.atRule=s=>new co(s),_.decl=s=>new oo(s),_.rule=s=>new uo(s),_.root=s=>new ho(s),_.document=s=>new ao(s),_.CssSyntaxError=Lh,_.Declaration=oo,_.Container=_h,_.Processor=Ds,_.Document=ao,_.Comment=lo,_.Warning=Fh,_.AtRule=co,_.Result=Uh,_.Input=Wh,_.Rule=uo,_.Root=ho,_.Node=jh,Ph.registerPostcss(_);var Gh=_;_.default=_;const G=au(Gh);G.stringify,G.fromJSON,G.plugin,G.parse,G.list,G.document,G.comment,G.atRule,G.rule,G.decl,G.root,G.CssSyntaxError,G.Declaration,G.Container,G.Processor,G.Document,G.Comment,G.Warning,G.AtRule,G.Result,G.Input,G.Rule,G.Root,G.Node;var Hh=Object.defineProperty,Yh=(s,e,t)=>e in s?Hh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,oe=(s,e,t)=>Yh(s,typeof e!="symbol"?e+"":e,t);function Jh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Zh(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var n=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return s[r]}})}),t}var Bs={exports:{}},V=String,fo=function(){return{isColorSupported:!1,reset:V,bold:V,dim:V,italic:V,underline:V,inverse:V,hidden:V,strikethrough:V,black:V,red:V,green:V,yellow:V,blue:V,magenta:V,cyan:V,white:V,gray:V,bgBlack:V,bgRed:V,bgGreen:V,bgYellow:V,bgBlue:V,bgMagenta:V,bgCyan:V,bgWhite:V}};Bs.exports=fo(),Bs.exports.createColors=fo;var Kh=Bs.exports;const he=Zh(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let po=Kh,mo=he,Fs=class Qa extends Error{constructor(e,t,r,n,i,o){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),n&&(this.source=n),o&&(this.plugin=o),typeof t<"u"&&typeof r<"u"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Qa)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=po.isColorSupported),mo&&e&&(t=mo(t));let r=t.split(/\r?\n/),n=Math.max(this.line-3,0),i=Math.min(this.line+2,r.length),o=String(i).length,l,a;if(e){let{bold:c,gray:u,red:f}=po.createColors(!0);l=d=>c(f(d)),a=d=>u(d)}else l=a=c=>c;return r.slice(n,i).map((c,u)=>{let f=n+1+u,d=" "+(" "+f).slice(-o)+" | ";if(f===this.line){let m=a(d.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+a(d)+c+`
 `+m+l("^")}return" "+a(d)+c}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var Us=Fs;Fs.default=Fs;var yt={};yt.isClean=Symbol("isClean"),yt.my=Symbol("my");const go={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Xh(s){return s[0].toUpperCase()+s.slice(1)}let Ws=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let n=e.parent,i=0;for(;n&&n.type!=="root";)i+=1,n=n.parent;if(r.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<i;l++)r+=o}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let n;e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let i=e.nodes[n],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],typeof n<"u"))return n;let i=e.parent;if(r==="before"&&(!i||i.type==="root"&&i.first===e||i&&i.type==="document"))return"";if(!i)return go[r];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[r]<"u")return o.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let l="raw"+Xh(r);this[l]?n=this[l](o,e):o.walk(a=>{if(n=a.raws[t],typeof n<"u")return!1})}return typeof n>"u"&&(n=go[r]),o.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after<"u")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(n=>{if(typeof n.raws.before<"u")return r=n.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r>"u"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before<"u")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between<"u")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&typeof r.raws.before<"u"){let i=r.raws.before.split(`
`);return t=i[i.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var yo=Ws;Ws.default=Ws;let qh=yo;function zs(s,e){new qh(e).stringify(s)}var ar=zs;zs.default=zs;let{isClean:lr,my:Qh}=yt,ef=Us,tf=yo,rf=ar;function Vs(s,e){let t=new s.constructor;for(let r in s){if(!Object.prototype.hasOwnProperty.call(s,r)||r==="proxyCache")continue;let n=s[r],i=typeof n;r==="parent"&&i==="object"?e&&(t[r]=e):r==="source"?t[r]=n:Array.isArray(n)?t[r]=n.map(o=>Vs(o,t)):(i==="object"&&n!==null&&(n=Vs(n)),t[r]=n)}return t}let js=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.raws={},this[lr]=!1,this[Qh]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}after(e){return this.parent.insertAfter(this,e),this}assign(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Vs(this);for(let r in e)t[r]=e[r];return t}cloneAfter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new ef(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markDirty(){if(this[lr]){this[lr]=!1;let e=this;for(;e=e.parent;)e[lr]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){t=this.toString();let n=t.indexOf(e.word);n!==-1&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,i=this.source.start.line;for(let o=0;o<e;o++)r[o]===`
`?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),i=n.indexOf(e.word);i!==-1&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new tf().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let n=this,i=!1;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let o of t)o===this?i=!0:i?(this.parent.insertAfter(n,o),n=o):this.parent.insertBefore(n,o);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},n=t==null;t=t||new Map;let i=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))r[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)r[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=i,t.set(l.input,i),i++),r[o]={end:l.end,inputId:a,start:l.start}}else r[o]=l}return n&&(r.inputs=[...t.keys()].map(o=>o.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rf;e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let n={node:this};for(let i in r)n[i]=r[i];return e.warn(t,n)}get proxyOf(){return this}};var cr=js;js.default=js;let sf=cr,Gs=class extends sf{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e=_objectSpread(_objectSpread({},e),{},{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var ur=Gs;Gs.default=Gs;let nf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var of={nanoid:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,e="",t=s;for(;t--;)e+=nf[Math.random()*64|0];return e},customAlphabet:function(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:21;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e,r="",n=t;for(;n--;)r+=s[Math.random()*s.length|0];return r}}};let{SourceMapConsumer:wo,SourceMapGenerator:bo}=he,{existsSync:af,readFileSync:lf}=he,{dirname:Hs,join:cf}=he;function uf(s){return Buffer?Buffer.from(s,"base64").toString():window.atob(s)}let Ys=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Hs(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new wo(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,n=/^data:application\/json;charset=utf-?8,/,i=/^data:application\/json,/;if(n.test(e)||i.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||r.test(e))return uf(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=Hs(e),af(e))return this.mapFile=e,lf(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(t instanceof wo)return bo.fromSourceMap(t).toString();if(t instanceof bo)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=cf(Hs(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var vo=Ys;Ys.default=Ys;let{SourceMapConsumer:hf,SourceMapGenerator:ff}=he,{fileURLToPath:So,pathToFileURL:hr}=he,{isAbsolute:Js,resolve:Zs}=he,{nanoid:df}=of,Ks=he,Co=Us,pf=vo,Xs=Symbol("fromOffsetCache"),mf=!!(hf&&ff),Io=!!(Zs&&Js),fr=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Io||/^\w+:\/\//.test(t.from)||Js(t.from)?this.file=t.from:this.file=Zs(t.from)),Io&&mf){let r=new pf(this.css,t);if(r.text){this.map=r;let n=r.consumer().file;!this.file&&n&&(this.file=this.mapResolve(n))}}this.file||(this.id="<input css "+df(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i,o,l;if(t&&typeof t=="object"){let c=t,u=r;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);t=f.line,r=f.col}else t=c.line,r=c.column;if(typeof u.offset=="number"){let f=this.fromOffset(u.offset);o=f.line,l=f.col}else o=u.line,l=u.column}else if(!r){let c=this.fromOffset(t);t=c.line,r=c.col}let a=this.origin(t,r,o,l);return a?i=new Co(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):i=new Co(e,o===void 0?t:{column:r,line:t},o===void 0?r:{column:l,line:o},this.css,this.file,n.plugin),i.input={column:r,endColumn:l,endLine:o,line:t,source:this.css},this.file&&(hr&&(i.input.url=hr(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,r;if(this[Xs])r=this[Xs];else{let i=this.css.split(`
`);r=new Array(i.length);let o=0;for(let l=0,a=i.length;l<a;l++)r[l]=o,o+=i[l].length+1;this[Xs]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let i=r.length-2,o;for(;n<i;)if(o=n+(i-n>>1),e<r[o])i=o-1;else if(e>=r[o+1])n=o+1;else{n=o;break}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Zs(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let i=this.map.consumer(),o=i.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof r=="number"&&(l=i.originalPositionFor({column:n,line:r}));let a;Js(o.source)?a=hr(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||hr(this.map.mapFile));let c={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(So)c.file=So(a);else throw new Error("file: protocol is not available in this PostCSS build");let u=i.sourceContentFor(o.source);return u&&(c.source=u),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=_objectSpread({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var dr=fr;fr.default=fr,Ks&&Ks.registerInput&&Ks.registerInput(fr);let{SourceMapConsumer:Eo,SourceMapGenerator:pr}=he,{dirname:mr,relative:xo,resolve:Ao,sep:Oo}=he,{pathToFileURL:Ro}=he,gf=dr,yf=!!(Eo&&pr),wf=!!(mr&&Ao&&xo&&Oo);var Mo=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||mr(e.file),n;this.mapOpts.sourcesContent===!1?(n=new Eo(e.text),n.sourcesContent&&(n.sourcesContent=null)):n=e.consumer(),this.map.applySourceMap(n,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),wf&&yf&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=pr.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new pr({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new pr({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",n={generated:{column:0,line:0},original:{column:0,line:0},source:""},i,o;this.stringify(this.root,(l,a,c)=>{if(this.css+=l,a&&c!=="end"&&(n.generated.line=e,n.generated.column=t-1,a.source&&a.source.start?(n.source=this.sourcePath(a),n.original.line=a.source.start.line,n.original.column=a.source.start.column-1,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,this.map.addMapping(n))),i=l.match(/\n/g),i?(e+=i.length,o=l.lastIndexOf(`
`),t=l.length-o):t+=l.length,a&&c!=="start"){let u=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==u.last||u.raws.semicolon)&&(a.source&&a.source.end?(n.source=this.sourcePath(a),n.original.line=a.source.end.line,n.original.column=a.source.end.column-1,n.generated.line=e,n.generated.column=t-2,this.map.addMapping(n)):(n.source=r,n.original.line=1,n.original.column=0,n.generated.line=e,n.generated.column=t-1,this.map.addMapping(n)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?mr(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=mr(Ao(r,this.mapOpts.annotation)));let n=xo(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new gf(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Ro){let r=Ro(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;Oo==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let bf=cr,qs=class extends bf{constructor(e){super(e),this.type="comment"}};var gr=qs;qs.default=qs;let{isClean:To,my:ko}=yt,No=ur,$o=gr,vf=cr,Lo,Qs,en,Po;function _o(s){return s.map(e=>(e.nodes&&(e.nodes=_o(e.nodes)),delete e.source,e))}function Do(s){if(s[To]=!1,s.proxyOf.nodes)for(let e of s.proxyOf.nodes)Do(e)}let Se=class el extends vf{append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let n of t){let i=this.normalize(n,this.last);for(let o of i)this.proxyOf.nodes.push(o)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,n;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],n=e(this.proxyOf.nodes[r],r),n!==!1);)this.indexes[t]+=1;return delete this.indexes[t],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e[t](...n.map(o=>typeof o=="function"?(l,a)=>o(l.toProxy(),a):o))}:t==="every"||t==="some"?r=>e[t](function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r(n.toProxy(),...o)}):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),n=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let o of n)this.proxyOf.nodes.splice(r+1,0,o);let i;for(let o in this.indexes)i=this.indexes[o],r<i&&(this.indexes[o]=i+n.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),n=r===0?"prepend":!1,i=this.normalize(t,this.proxyOf.nodes[r],n).reverse();r=this.index(e);for(let l of i)this.proxyOf.nodes.splice(r,0,l);let o;for(let l in this.indexes)o=this.indexes[l],r<=o&&(this.indexes[l]=o+i.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=_o(Lo(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let n of e)n.parent&&n.parent.removeChild(n,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new No(e)]}else if(e.selector)e=[new Qs(e)];else if(e.name)e=[new en(e)];else if(e.text)e=[new $o(e)];else throw new Error("Unknown node type in node creation");return e.map(n=>(n[ko]||el.rebuild(n),n=n.proxyOf,n.parent&&n.parent.removeChild(n),n[To]&&Do(n),typeof n.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(n.raws.before=t.raws.before.replace(/\S/g,"")),n.parent=this.proxyOf,n))}prepend(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t=t.reverse();for(let n of t){let i=this.normalize(n,this.first,"prepend").reverse();for(let o of i)this.proxyOf.nodes.unshift(o);for(let o in this.indexes)this.indexes[o]=this.indexes[o]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let n;try{n=e(t,r)}catch(i){throw t.addToError(i)}return n!==!1&&t.walk&&(n=t.walk(e)),n})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,n)}):this.walk((r,n)=>{if(r.type==="atrule"&&r.name===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="atrule")return t(r,n)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,n)}):this.walk((r,n)=>{if(r.type==="decl"&&r.prop===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="decl")return t(r,n)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,n)}):this.walk((r,n)=>{if(r.type==="rule"&&r.selector===e)return t(r,n)}):(t=e,this.walk((r,n)=>{if(r.type==="rule")return t(r,n)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Se.registerParse=s=>{Lo=s},Se.registerRule=s=>{Qs=s},Se.registerAtRule=s=>{en=s},Se.registerRoot=s=>{Po=s};var Me=Se;Se.default=Se,Se.rebuild=s=>{s.type==="atrule"?Object.setPrototypeOf(s,en.prototype):s.type==="rule"?Object.setPrototypeOf(s,Qs.prototype):s.type==="decl"?Object.setPrototypeOf(s,No.prototype):s.type==="comment"?Object.setPrototypeOf(s,$o.prototype):s.type==="root"&&Object.setPrototypeOf(s,Po.prototype),s[ko]=!0,s.nodes&&s.nodes.forEach(e=>{Se.rebuild(e)})};let Sf=Me,Bo,Fo,wt=class extends Sf{constructor(e){super(_objectSpread({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Bo(new Fo,this,e).stringify()}};wt.registerLazyResult=s=>{Bo=s},wt.registerProcessor=s=>{Fo=s};var tn=wt;wt.default=wt;let Uo={};var Wo=function(e){Uo[e]||(Uo[e]=!0,typeof console<"u"&&console.warn&&console.warn(e))};let rn=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var zo=rn;rn.default=rn;let Cf=zo,sn=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Cf(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var nn=sn;sn.default=sn;const on="'".charCodeAt(0),Vo='"'.charCodeAt(0),yr="\\".charCodeAt(0),jo="/".charCodeAt(0),wr=`
`.charCodeAt(0),bt=" ".charCodeAt(0),br="\f".charCodeAt(0),vr="	".charCodeAt(0),Sr="\r".charCodeAt(0),If="[".charCodeAt(0),Ef="]".charCodeAt(0),xf="(".charCodeAt(0),Af=")".charCodeAt(0),Of="{".charCodeAt(0),Rf="}".charCodeAt(0),Mf=";".charCodeAt(0),Tf="*".charCodeAt(0),kf=":".charCodeAt(0),Nf="@".charCodeAt(0),Cr=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ir=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,$f=/.[\r\n"'(/\\]/,Go=/[\da-f]/i;var Lf=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.css.valueOf(),n=t.ignoreErrors,i,o,l,a,c,u,f,d,m,p,y=r.length,h=0,w=[],I=[];function b(){return h}function g(E){throw e.error("Unclosed "+E,h)}function v(){return I.length===0&&h>=y}function C(E){if(I.length)return I.pop();if(h>=y)return;let x=E?E.ignoreUnclosed:!1;switch(i=r.charCodeAt(h),i){case wr:case bt:case vr:case Sr:case br:{o=h;do o+=1,i=r.charCodeAt(o);while(i===bt||i===wr||i===vr||i===Sr||i===br);p=["space",r.slice(h,o)],h=o-1;break}case If:case Ef:case Of:case Rf:case kf:case Mf:case Af:{let $=String.fromCharCode(i);p=[$,$,h];break}case xf:{if(d=w.length?w.pop()[1]:"",m=r.charCodeAt(h+1),d==="url"&&m!==on&&m!==Vo&&m!==bt&&m!==wr&&m!==vr&&m!==br&&m!==Sr){o=h;do{if(u=!1,o=r.indexOf(")",o+1),o===-1)if(n||x){o=h;break}else g("bracket");for(f=o;r.charCodeAt(f-1)===yr;)f-=1,u=!u}while(u);p=["brackets",r.slice(h,o+1),h,o],h=o}else o=r.indexOf(")",h+1),a=r.slice(h,o+1),o===-1||$f.test(a)?p=["(","(",h]:(p=["brackets",a,h,o],h=o);break}case on:case Vo:{l=i===on?"'":'"',o=h;do{if(u=!1,o=r.indexOf(l,o+1),o===-1)if(n||x){o=h+1;break}else g("string");for(f=o;r.charCodeAt(f-1)===yr;)f-=1,u=!u}while(u);p=["string",r.slice(h,o+1),h,o],h=o;break}case Nf:{Cr.lastIndex=h+1,Cr.test(r),Cr.lastIndex===0?o=r.length-1:o=Cr.lastIndex-2,p=["at-word",r.slice(h,o+1),h,o],h=o;break}case yr:{for(o=h,c=!0;r.charCodeAt(o+1)===yr;)o+=1,c=!c;if(i=r.charCodeAt(o+1),c&&i!==jo&&i!==bt&&i!==wr&&i!==vr&&i!==Sr&&i!==br&&(o+=1,Go.test(r.charAt(o)))){for(;Go.test(r.charAt(o+1));)o+=1;r.charCodeAt(o+1)===bt&&(o+=1)}p=["word",r.slice(h,o+1),h,o],h=o;break}default:{i===jo&&r.charCodeAt(h+1)===Tf?(o=r.indexOf("*/",h+2)+1,o===0&&(n||x?o=r.length:g("comment")),p=["comment",r.slice(h,o+1),h,o],h=o):(Ir.lastIndex=h+1,Ir.test(r),Ir.lastIndex===0?o=r.length-1:o=Ir.lastIndex-2,p=["word",r.slice(h,o+1),h,o],w.push(p),h=o);break}}return h++,p}function O(E){I.push(E)}return{back:O,endOfFile:v,nextToken:C,position:b}};let Ho=Me,Er=class extends Ho{constructor(e){super(e),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var an=Er;Er.default=Er,Ho.registerAtRule(Er);let Yo=Me,Jo,Zo,Ke=class extends Yo{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of n)i.raws.before=t.raws.before}return n}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Jo(new Zo,this,e).stringify()}};Ke.registerLazyResult=s=>{Jo=s},Ke.registerProcessor=s=>{Zo=s};var vt=Ke;Ke.default=Ke,Yo.registerRoot(Ke);let St={comma(s){return St.split(s,[","],!0)},space(s){let e=[" ",`
`,"	"];return St.split(s,e)},split(s,e,t){let r=[],n="",i=!1,o=0,l=!1,a="",c=!1;for(let u of s)c?c=!1:u==="\\"?c=!0:l?u===a&&(l=!1):u==='"'||u==="'"?(l=!0,a=u):u==="("?o+=1:u===")"?o>0&&(o-=1):o===0&&e.includes(u)&&(i=!0),i?(n!==""&&r.push(n.trim()),n="",i=!1):n+=u;return(t||n!=="")&&r.push(n.trim()),r}};var Ko=St;St.default=St;let Xo=Me,Pf=Ko,xr=class extends Xo{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Pf.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var ln=xr;xr.default=xr,Xo.registerRule(xr);let _f=ur,Df=Lf,Bf=gr,Ff=an,Uf=vt,qo=ln;const Qo={empty:!0,space:!0};function Wf(s){for(let e=s.length-1;e>=0;e--){let t=s[e],r=t[3]||t[2];if(r)return r}}var zf=class{constructor(e){this.input=e,this.root=new Uf,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Ff;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,n,i,o=!1,l=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?c.push(r==="("?")":"]"):r==="{"&&c.length>0?c.push("}"):r===c[c.length-1]&&c.pop(),c.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){l=!0;break}else if(r==="}"){if(a.length>0){for(i=a.length-1,n=a[i];n&&n[0]==="space";)n=a[--i];n&&(t.source.end=this.getPosition(n[3]||n[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,n;for(let i=t-1;i>=0&&(n=e[i],!(n[0]!=="space"&&(r+=1,r===2)));i--);throw this.input.error("Missed semicolon",n[0]==="word"?n[3]+1:n[2])}colon(e){let t=0,r,n,i;for(let[o,l]of e.entries()){if(r=l,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return o}i=r}return!1}comment(e){let t=new Bf;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=Df(this.input)}decl(e,t){let r=new _f;this.init(r,e[0][2]);let n=e[e.length-1];for(n[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(n[3]||n[2]||Wf(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let c=e[0][0];if(c===":"||c==="space"||c==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let i;for(;e.length;)if(i=e.shift(),i[0]===":"){r.raws.between+=i[1];break}else i[0]==="word"&&/\w/.test(i[1])&&this.unknownWord([i]),r.raws.between+=i[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let c=e.length-1;c>=0;c--){if(i=e[c],i[1].toLowerCase()==="!important"){r.important=!0;let u=this.stringFrom(e,c);u=this.spacesFromEnd(e)+u,u!==" !important"&&(r.raws.important=u);break}else if(i[1].toLowerCase()==="important"){let u=e.slice(0),f="";for(let d=c;d>0;d--){let m=u[d][0];if(f.trim().indexOf("!")===0&&m!=="space")break;f=u.pop()[1]+f}f.trim().indexOf("!")===0&&(r.important=!0,r.raws.important=f,e=u)}if(i[0]!=="space"&&i[0]!=="comment")break}e.some(c=>c[0]!=="space"&&c[0]!=="comment")&&(r.raws.between+=o.map(c=>c[1]).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new qo;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,i=null,o=[],l=e[1].startsWith("--"),a=[],c=e;for(;c;){if(r=c[0],a.push(c),r==="("||r==="[")i||(i=c),o.push(r==="("?")":"]");else if(l&&n&&r==="{")i||(i=c),o.push("}");else if(o.length===0)if(r===";")if(n){this.decl(a,l);return}else break;else if(r==="{"){this.rule(a);return}else if(r==="}"){this.tokenizer.back(a.pop()),t=!0;break}else r===":"&&(n=!0);else r===o[o.length-1]&&(o.pop(),o.length===0&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&n){if(!l)for(;a.length&&(c=a[a.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let i,o,l=r.length,a="",c=!0,u,f;for(let d=0;d<l;d+=1)i=r[d],o=i[0],o==="space"&&d===l-1&&!n?c=!1:o==="comment"?(f=r[d-1]?r[d-1][0]:"empty",u=r[d+1]?r[d+1][0]:"empty",!Qo[f]&&!Qo[u]?a.slice(-1)===","?c=!1:a+=i[1]:c=!1):a+=i[1];if(!c){let d=r.reduce((m,p)=>m+p[1],"");e.raws[t]={raw:d,value:a}}e[t]=a}rule(e){e.pop();let t=new qo;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};let Vf=Me,jf=zf,Gf=dr;function Ar(s,e){let t=new Gf(s,e),r=new jf(t);try{r.parse()}catch(n){throw process.env.NODE_ENV!=="production"&&n.name==="CssSyntaxError"&&e&&e.from&&(/\.scss$/i.test(e.from)?n.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(e.from)?n.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(e.from)&&(n.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),n}return r.root}var cn=Ar;Ar.default=Ar,Vf.registerParse(Ar);let{isClean:ye,my:Hf}=yt,Yf=Mo,Jf=ar,Zf=Me,Kf=tn,Xf=Wo,ea=nn,qf=cn,Qf=vt;const ed={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},td={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},rd={Once:!0,postcssPlugin:!0,prepare:!0},Xe=0;function Ct(s){return typeof s=="object"&&typeof s.then=="function"}function ta(s){let e=!1,t=ed[s.type];return s.type==="decl"?e=s.prop.toLowerCase():s.type==="atrule"&&(e=s.name.toLowerCase()),e&&s.append?[t,t+"-"+e,Xe,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:s.append?[t,Xe,t+"Exit"]:[t,t+"Exit"]}function ra(s){let e;return s.type==="document"?e=["Document",Xe,"DocumentExit"]:s.type==="root"?e=["Root",Xe,"RootExit"]:e=ta(s),{eventIndex:0,events:e,iterator:0,node:s,visitorIndex:0,visitors:[]}}function un(s){return s[ye]=!1,s.nodes&&s.nodes.forEach(e=>un(e)),s}let hn={},qe=class tl{constructor(e,t,r){this.stringified=!1,this.processed=!1;let n;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))n=un(t);else if(t instanceof tl||t instanceof ea)n=un(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let i=qf;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{n=i(t,r)}catch(o){this.processed=!0,this.error=o}n&&!n[Hf]&&Zf.rebuild(n)}this.result=new ea(e,n,r),this.helpers=_objectSpread(_objectSpread({},hn),{},{postcss:hn,result:this.result}),this.plugins=this.processor.plugins.map(i=>typeof i=="object"&&i.prepare?_objectSpread(_objectSpread({},i),i.prepare(this.result)):i)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin)e.plugin=r.postcssPlugin,e.setMessage();else if(r.postcssVersion&&process.env.NODE_ENV!=="production"){let n=r.postcssPlugin,i=r.postcssVersion,o=this.result.processor.version,l=i.split("."),a=o.split(".");(l[0]!==a[0]||parseInt(l[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+i+". Perhaps this is the source of the error below.")}}catch(n){console&&console.error&&console.error(n)}return e}prepareVisitors(){this.listeners={};let e=(t,r,n)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,n])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!td[r]&&/^[A-Z]/.test(r))throw new Error("Unknown event ".concat(r," in ").concat(t.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!rd[r])if(typeof t[r]=="object")for(let n in t[r])n==="*"?e(t,r,t[r][n]):e(t,r+"-"+n.toLowerCase(),t[r][n]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Ct(r))try{await r}catch(n){throw this.handleError(n)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ye];){e[ye]=!0;let t=[ra(e)];for(;t.length>0;){let r=this.visitTick(t);if(Ct(r))try{await r}catch(n){let i=t[t.length-1].node;throw this.handleError(n,i)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let n=e.nodes.map(i=>r(i,this.helpers));await Promise.all(n)}else await r(e,this.helpers)}catch(n){throw this.handleError(n)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return Ct(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=Jf;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new Yf(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Ct(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ye];)e[ye]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this.opts||Xf("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){this.result.lastPlugin=r;let i;try{i=n(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Ct(i))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(n.length>0&&t.visitorIndex<n.length){let[o,l]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(r.toProxy(),this.helpers)}catch(a){throw this.handleError(a,r)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=r.nodes[r.indexes[o]];)if(r.indexes[o]+=1,!l[ye]){l[ye]=!0,e.push(ra(l));return}t.iterator=0,delete r.indexes[o]}let i=t.events;for(;t.eventIndex<i.length;){let o=i[t.eventIndex];if(t.eventIndex+=1,o===Xe){r.nodes&&r.nodes.length&&(r[ye]=!0,t.iterator=r.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[ye]=!0;let t=ta(e);for(let r of t)if(r===Xe)e.nodes&&e.each(n=>{n[ye]||this.walkSync(n)});else{let n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};qe.registerPostcss=s=>{hn=s};var sa=qe;qe.default=qe,Qf.registerLazyResult(qe),Kf.registerLazyResult(qe);let sd=Mo,nd=ar,id=Wo,od=cn;const ad=nn;let fn=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let n,i=nd;this.result=new ad(this._processor,n,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new sd(i,n,this._opts,t);if(l.isMap()){let[a,c]=l.generate();a&&(this.result.css=a),c&&(this.result.map=c)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return process.env.NODE_ENV!=="production"&&("from"in this._opts||id("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=od;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var ld=fn;fn.default=fn;let cd=ld,ud=sa,hd=tn,fd=vt,It=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(typeof r=="object"&&(r.parse||r.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(r+" is not a PostCSS plugin");return t}process(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new cd(this,e,t):new ud(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var dd=It;It.default=It,fd.registerProcessor(It),hd.registerProcessor(It);let pd=ur,md=vo,gd=gr,yd=an,wd=dr,bd=vt,vd=ln;function Et(s,e){if(Array.isArray(s))return s.map(n=>Et(n));let{inputs:t}=s,r=_objectWithoutProperties(s,_excluded3);if(t){e=[];for(let n of t){let i=_objectSpread(_objectSpread({},n),{},{__proto__:wd.prototype});i.map&&(i.map=_objectSpread(_objectSpread({},i.map),{},{__proto__:md.prototype})),e.push(i)}}if(r.nodes&&(r.nodes=s.nodes.map(n=>Et(n,e))),r.source){let n=r.source,{inputId:i}=n,o=_objectWithoutProperties(n,_excluded4);r.source=o,i!=null&&(r.source.input=e[i])}if(r.type==="root")return new bd(r);if(r.type==="decl")return new pd(r);if(r.type==="rule")return new vd(r);if(r.type==="comment")return new gd(r);if(r.type==="atrule")return new yd(r);throw new Error("Unknown node type: "+s.type)}var Sd=Et;Et.default=Et;let Cd=Us,na=ur,Id=sa,Ed=Me,dn=dd,xd=ar,Ad=Sd,ia=tn,Od=zo,oa=gr,aa=an,Rd=nn,Md=dr,Td=cn,kd=Ko,la=ln,ca=vt,Nd=cr;function D(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new dn(e)}D.plugin=function(e,t){let r=!1;function n(){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let o=t(...arguments);return o.postcssPlugin=e,o.postcssVersion=new dn().version,o}let i;return Object.defineProperty(n,"postcss",{get(){return i||(i=n()),i}}),n.process=function(o,l,a){return D([n(a)]).process(o,l)},n},D.stringify=xd,D.parse=Td,D.fromJSON=Ad,D.list=kd,D.comment=s=>new oa(s),D.atRule=s=>new aa(s),D.decl=s=>new na(s),D.rule=s=>new la(s),D.root=s=>new ca(s),D.document=s=>new ia(s),D.CssSyntaxError=Cd,D.Declaration=na,D.Container=Ed,D.Processor=dn,D.Document=ia,D.Comment=oa,D.Warning=Od,D.AtRule=aa,D.Result=Rd,D.Input=Md,D.Rule=la,D.Root=ca,D.Node=Nd,Id.registerPostcss(D);var $d=D;D.default=D;const H=Jh($d);H.stringify,H.fromJSON,H.plugin,H.parse,H.list,H.document,H.comment,H.atRule,H.rule,H.decl,H.root,H.CssSyntaxError,H.Declaration,H.Container,H.Processor,H.Document,H.Comment,H.Warning,H.AtRule,H.Result,H.Input,H.Rule,H.Root,H.Node;class pn{constructor(){oe(this,"parentElement",null),oe(this,"parentNode",null),oe(this,"ownerDocument"),oe(this,"firstChild",null),oe(this,"lastChild",null),oe(this,"previousSibling",null),oe(this,"nextSibling",null),oe(this,"ELEMENT_NODE",1),oe(this,"TEXT_NODE",3),oe(this,"nodeType"),oe(this,"nodeName"),oe(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof pn){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const ua={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},ha={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Or={},Ld=()=>!!globalThis.Zone;function mn(s){if(Or[s])return Or[s];const e=globalThis[s],t=e.prototype,r=s in ua?ua[s]:void 0,n=!!(r&&r.every(l=>{var a,c;return!!((c=(a=Object.getOwnPropertyDescriptor(t,l))==null?void 0:a.get)!=null&&c.toString().includes("[native code]"))})),i=s in ha?ha[s]:void 0,o=!!(i&&i.every(l=>{var a;return typeof t[l]=="function"&&((a=t[l])==null?void 0:a.toString().includes("[native code]"))}));if(n&&o&&!Ld())return Or[s]=e.prototype,e.prototype;try{const l=document.createElement("iframe");document.body.appendChild(l);const a=l.contentWindow;if(!a)return e.prototype;const c=a[s].prototype;return document.body.removeChild(l),c?Or[s]=c:t}catch{return t}}const gn={};function Ee(s,e,t){var r;const n="".concat(s,".").concat(String(t));if(gn[n])return gn[n].call(e);const i=mn(s),o=(r=Object.getOwnPropertyDescriptor(i,t))==null?void 0:r.get;return o?(gn[n]=o,o.call(e)):e[t]}const yn={};function fa(s,e,t){const r="".concat(s,".").concat(String(t));if(yn[r])return yn[r].bind(e);const i=mn(s)[t];return typeof i!="function"?e[t]:(yn[r]=i,i.bind(e))}function Pd(s){return Ee("Node",s,"childNodes")}function _d(s){return Ee("Node",s,"parentNode")}function Dd(s){return Ee("Node",s,"parentElement")}function Bd(s){return Ee("Node",s,"textContent")}function Fd(s,e){return fa("Node",s,"contains")(e)}function Ud(s){return fa("Node",s,"getRootNode")()}function Wd(s){return!s||!("host"in s)?null:Ee("ShadowRoot",s,"host")}function zd(s){return s.styleSheets}function Vd(s){return!s||!("shadowRoot"in s)?null:Ee("Element",s,"shadowRoot")}function jd(s,e){return Ee("Element",s,"querySelector")(e)}function Gd(s,e){return Ee("Element",s,"querySelectorAll")(e)}function da(){return mn("MutationObserver").constructor}const M={childNodes:Pd,parentNode:_d,parentElement:Dd,textContent:Bd,contains:Fd,getRootNode:Ud,host:Wd,styleSheets:zd,shadowRoot:Vd,querySelector:jd,querySelectorAll:Gd,mutationObserver:da};function te(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const r={capture:!0,passive:!0};return t.addEventListener(s,e,r),()=>t.removeEventListener(s,e,r)}const Qe=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let pa={map:{},getId(){return console.error(Qe),-1},getNode(){return console.error(Qe),null},removeNodeFromMap(){console.error(Qe)},has(){return console.error(Qe),!1},reset(){console.error(Qe)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(pa=new Proxy(pa,{get(s,e,t){return e==="map"&&console.error(Qe),Reflect.get(s,e,t)}}));function xt(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=null,n=0;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];const a=Date.now();!n&&t.leading===!1&&(n=a);const c=e-(a-n),u=this;c<=0||c>e?(r&&(clearTimeout(r),r=null),n=a,s.apply(u,o)):!r&&t.trailing!==!1&&(r=setTimeout(()=>{n=t.leading===!1?0:Date.now(),r=null,s.apply(u,o)},c))}}function Rr(s,e,t,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:window;const i=n.Object.getOwnPropertyDescriptor(s,e);return n.Object.defineProperty(s,e,r?t:{set(o){setTimeout(()=>{t.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Rr(s,e,i||{},!0)}function et(s,e,t){try{if(!(e in s))return()=>{};const r=s[e],n=t(r);return typeof n=="function"&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__rrweb_original__:{enumerable:!1,value:r}})),s[e]=n,()=>{s[e]=r}}catch{return()=>{}}}let Mr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Mr=()=>new Date().getTime());function ma(s){var e,t,r,n;const i=s.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:s.pageXOffset!==void 0?s.pageXOffset:i.documentElement.scrollLeft||(i==null?void 0:i.body)&&((e=M.parentElement(i.body))==null?void 0:e.scrollLeft)||((t=i==null?void 0:i.body)==null?void 0:t.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:s.pageYOffset!==void 0?s.pageYOffset:(i==null?void 0:i.documentElement.scrollTop)||(i==null?void 0:i.body)&&((r=M.parentElement(i.body))==null?void 0:r.scrollTop)||((n=i==null?void 0:i.body)==null?void 0:n.scrollTop)||0}}function ga(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ya(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function wa(s){return s?s.nodeType===s.ELEMENT_NODE?s:M.parentElement(s):null}function re(s,e,t,r){if(!s)return!1;const n=wa(s);if(!n)return!1;try{if(typeof e=="string"){if(n.classList.contains(e)||r&&n.closest("."+e)!==null)return!0}else if(Ut(n,e,r))return!0}catch{}return!!(t&&(n.matches(t)||r&&n.closest(t)!==null))}function Hd(s,e){return e.getId(s)!==-1}function wn(s,e,t){return s.tagName==="TITLE"&&t.headTitleMutations?!0:e.getId(s)===lt}function ba(s,e){if(ot(s))return!1;const t=e.getId(s);if(!e.has(t))return!0;const r=M.parentNode(s);return r&&r.nodeType===s.DOCUMENT_NODE?!1:r?ba(r,e):!0}function bn(s){return!!s.changedTouches}function Yd(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;"NodeList"in s&&!s.NodeList.prototype.forEach&&(s.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in s&&!s.DOMTokenList.prototype.forEach&&(s.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function va(s,e){return!!(s.nodeName==="IFRAME"&&e.getMeta(s))}function Sa(s,e){return!!(s.nodeName==="LINK"&&s.nodeType===s.ELEMENT_NODE&&s.getAttribute&&s.getAttribute("rel")==="stylesheet"&&e.getMeta(s))}function vn(s){return s?s instanceof pn&&"shadowRoot"in s?!!s.shadowRoot:!!M.shadowRoot(s):!1}class Jd{constructor(){S(this,"id",1),S(this,"styleIDMap",new WeakMap),S(this,"idStyleMap",new Map)}getId(e){var t;return(t=this.styleIDMap.get(e))!==null&&t!==void 0?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return t===void 0?r=this.id++:r=t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ca(s){var e;let t=null;return"getRootNode"in s&&((e=M.getRootNode(s))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&M.host(M.getRootNode(s))&&(t=M.host(M.getRootNode(s))),t}function Zd(s){let e=s,t;for(;t=Ca(e);)e=t;return e}function Kd(s){const e=s.ownerDocument;if(!e)return!1;const t=Zd(s);return M.contains(e,t)}function Ia(s){const e=s.ownerDocument;return e?M.contains(e,s)||Kd(s):!1}var N=(s=>(s[s.DomContentLoaded=0]="DomContentLoaded",s[s.Load=1]="Load",s[s.FullSnapshot=2]="FullSnapshot",s[s.IncrementalSnapshot=3]="IncrementalSnapshot",s[s.Meta=4]="Meta",s[s.Custom=5]="Custom",s[s.Plugin=6]="Plugin",s))(N||{}),T=(s=>(s[s.Mutation=0]="Mutation",s[s.MouseMove=1]="MouseMove",s[s.MouseInteraction=2]="MouseInteraction",s[s.Scroll=3]="Scroll",s[s.ViewportResize=4]="ViewportResize",s[s.Input=5]="Input",s[s.TouchMove=6]="TouchMove",s[s.MediaInteraction=7]="MediaInteraction",s[s.StyleSheetRule=8]="StyleSheetRule",s[s.CanvasMutation=9]="CanvasMutation",s[s.Font=10]="Font",s[s.Log=11]="Log",s[s.Drag=12]="Drag",s[s.StyleDeclaration=13]="StyleDeclaration",s[s.Selection=14]="Selection",s[s.AdoptedStyleSheet=15]="AdoptedStyleSheet",s[s.CustomElement=16]="CustomElement",s))(T||{}),ne=(s=>(s[s.MouseUp=0]="MouseUp",s[s.MouseDown=1]="MouseDown",s[s.Click=2]="Click",s[s.ContextMenu=3]="ContextMenu",s[s.DblClick=4]="DblClick",s[s.Focus=5]="Focus",s[s.Blur=6]="Blur",s[s.TouchStart=7]="TouchStart",s[s.TouchMove_Departed=8]="TouchMove_Departed",s[s.TouchEnd=9]="TouchEnd",s[s.TouchCancel=10]="TouchCancel",s))(ne||{}),Ce=(s=>(s[s.Mouse=0]="Mouse",s[s.Pen=1]="Pen",s[s.Touch=2]="Touch",s))(Ce||{}),tt=(s=>(s[s["2D"]=0]="2D",s[s.WebGL=1]="WebGL",s[s.WebGL2=2]="WebGL2",s))(tt||{}),rt=(s=>(s[s.Play=0]="Play",s[s.Pause=1]="Pause",s[s.Seeked=2]="Seeked",s[s.VolumeChange=3]="VolumeChange",s[s.RateChange=4]="RateChange",s))(rt||{}),Ea=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(Ea||{});function xa(s){return"__ln"in s}class Xd{constructor(){S(this,"length",0),S(this,"head",null),S(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=(t==null?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&xa(e.previousSibling)){const r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&xa(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Aa=(s,e)=>"".concat(s,"@").concat(e);class qd{constructor(){S(this,"frozen",!1),S(this,"locked",!1),S(this,"texts",[]),S(this,"attributes",[]),S(this,"attributeMap",new WeakMap),S(this,"removes",[]),S(this,"mapRemoves",[]),S(this,"movedMap",{}),S(this,"addedSet",new Set),S(this,"movedSet",new Set),S(this,"droppedSet",new Set),S(this,"removesSubTreeCache",new Set),S(this,"mutationCb"),S(this,"blockClass"),S(this,"blockSelector"),S(this,"maskTextClass"),S(this,"maskTextSelector"),S(this,"inlineStylesheet"),S(this,"maskInputOptions"),S(this,"maskTextFn"),S(this,"maskInputFn"),S(this,"keepIframeSrcFn"),S(this,"recordCanvas"),S(this,"inlineImages"),S(this,"slimDOMOptions"),S(this,"dataURLOptions"),S(this,"doc"),S(this,"mirror"),S(this,"iframeManager"),S(this,"stylesheetManager"),S(this,"shadowDomManager"),S(this,"canvasManager"),S(this,"processedNodeManager"),S(this,"unattachedDoc"),S(this,"processMutations",e=>{e.forEach(this.processMutation),this.emit()}),S(this,"emit",()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,r=new Xd,n=a=>{let c=a,u=lt;for(;u===lt;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},i=a=>{const c=M.parentNode(a);if(!c||!Ia(a))return;let u=!1;if(a.nodeType===Node.TEXT_NODE){const p=c.tagName;if(p==="TEXTAREA")return;p==="STYLE"&&this.addedSet.has(c)&&(u=!0)}const f=ot(c)?this.mirror.getId(Ca(a)):this.mirror.getId(c),d=n(a);if(f===-1||d===-1)return r.addNode(a);const m=He(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{va(p,this.mirror)&&this.iframeManager.addIframe(p),Sa(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),vn(a)&&this.shadowDomManager.addShadowRoot(M.shadowRoot(a),this.doc)},onIframeLoad:(p,y)=>{this.iframeManager.attachIframe(p,y),this.shadowDomManager.observeAttachShadow(p)},onStylesheetLoad:(p,y)=>{this.stylesheetManager.attachLinkElement(p,y)},cssCaptured:u});m&&(e.push({parentId:f,nextId:d,node:m}),t.add(m.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Oa(this.removesSubTreeCache,a,this.mirror)&&!this.movedSet.has(M.parentNode(a))||i(a);for(const a of this.addedSet)!Ra(this.droppedSet,a)&&!Oa(this.removesSubTreeCache,a,this.mirror)||Ra(this.movedSet,a)?i(a):this.droppedSet.add(a);let o=null;for(;r.length;){let a=null;if(o){const c=this.mirror.getId(M.parentNode(o.value)),u=n(o.value);c!==-1&&u!==-1&&(a=o)}if(!a){let c=r.tail;for(;c;){const u=c;if(c=c.previous,u){const f=this.mirror.getId(M.parentNode(u.value));if(n(u.value)===-1)continue;if(f!==-1){a=u;break}else{const m=u.value,p=M.parentNode(m);if(p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const y=M.host(p);if(this.mirror.getId(y)!==-1){a=u;break}}}}}}if(!a){for(;r.head;)r.removeNode(r.head.value);break}o=a.previous,r.removeNode(a.value),i(a.value)}const l={texts:this.texts.map(a=>{const c=a.node,u=M.parentNode(c);return u&&u.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(u),{id:this.mirror.getId(c),value:a.value}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:c}=a;if(typeof c.style=="string"){const u=JSON.stringify(a.styleDiff),f=JSON.stringify(a._unchangedStyles);u.length<c.style.length&&(u+f).split("var(").length===c.style.split("var(").length&&(c.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:c}}).filter(a=>!t.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:e};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(l))}),S(this,"genTextAreaValueMutation",e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(M.childNodes(e),r=>M.textContent(r)||"").join("")}),S(this,"processMutation",e=>{if(!wn(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const t=M.textContent(e.target);!re(e.target,this.blockClass,this.blockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:pi(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,wa(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let r=e.attributeName,n=e.target.getAttribute(r);if(r==="value"){const o=os(t);n=is({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:o,value:n,maskInputFn:this.maskInputFn})}if(re(e.target,this.blockClass,this.blockSelector,!1)||n===e.oldValue)return;let i=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(n))if(!t.contentDocument)r="rr_src";else return;if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),r==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!di(t.tagName,r))if(i.attributes[r]=fi(this.doc,Oe(t.tagName),Oe(r),n),r==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");e.oldValue&&o.setAttribute("style",e.oldValue);for(const l of Array.from(t.style)){const a=t.style.getPropertyValue(l),c=t.style.getPropertyPriority(l);a!==o.style.getPropertyValue(l)||c!==o.style.getPropertyPriority(l)?c===""?i.styleDiff[l]=a:i.styleDiff[l]=[a,c]:i._unchangedStyles[l]=[a,c]}for(const l of Array.from(o.style))t.style.getPropertyValue(l)===""&&(i.styleDiff[l]=!1)}else r==="open"&&t.tagName==="DIALOG"&&(t.matches("dialog:modal")?i.attributes.rr_open_mode="modal":i.attributes.rr_open_mode="non-modal");break}case"childList":{if(re(e.target,this.blockClass,this.blockSelector,!0))return;if(e.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(e.target);return}e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{const r=this.mirror.getId(t),n=ot(e.target)?this.mirror.getId(M.host(e.target)):this.mirror.getId(e.target);re(e.target,this.blockClass,this.blockSelector,!1)||wn(t,this.mirror,this.slimDOMOptions)||!Hd(t,this.mirror)||(this.addedSet.has(t)?(Sn(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&r===-1||ba(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Aa(r,n)]?Sn(this.movedSet,t):(this.removes.push({parentId:n,id:r,isShadow:ot(e.target)&&at(e.target)?!0:void 0}),Qd(t,this.removesSubTreeCache))),this.mapRemoves.push(t))});break}}}),S(this,"genAdds",(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(wn(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&r!==-1&&(this.movedMap[Aa(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);re(e,this.blockClass,this.blockSelector,!1)||(M.childNodes(e).forEach(r=>this.genAdds(r)),vn(e)&&M.childNodes(M.shadowRoot(e)).forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}})}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Sn(s,e){s.delete(e),M.childNodes(e).forEach(t=>Sn(s,t))}function Qd(s,e){const t=[s];for(;t.length;){const r=t.pop();e.has(r)||(e.add(r),M.childNodes(r).forEach(n=>t.push(n)))}}function Oa(s,e,t){return s.size===0?!1:ep(s,e)}function ep(s,e,t){const r=M.parentNode(e);return r?s.has(r):!1}function Ra(s,e){return s.size===0?!1:Ma(s,e)}function Ma(s,e){const t=M.parentNode(e);return t?s.has(t)?!0:Ma(s,t):!1}let At;function tp(s){At=s}function rp(){At=void 0}const k=s=>At?function(){try{return s(...arguments)}catch(t){if(At&&At(t)===!0)return;throw t}}:s,Te=[];function Ot(s){try{if("composedPath"in s){const e=s.composedPath();if(e.length)return e[0]}else if("path"in s&&s.path.length)return s.path[0]}catch{}return s&&s.target}function Ta(s,e){const t=new qd;Te.push(t),t.init(s);const r=new(da())(k(t.processMutations.bind(t)));return r.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function sp(s){let{mousemoveCb:e,sampling:t,doc:r,mirror:n}=s;if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let l=[],a;const c=xt(k(d=>{const m=Date.now()-a;e(l.map(p=>(p.timeOffset-=m,p)),d),l=[],a=null}),o),u=k(xt(k(d=>{const m=Ot(d),{clientX:p,clientY:y}=bn(d)?d.changedTouches[0]:d;a||(a=Mr()),l.push({x:p,y,id:n.getId(m),timeOffset:Mr()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?T.Drag:d instanceof MouseEvent?T.MouseMove:T.TouchMove)}),i,{trailing:!1})),f=[te("mousemove",u,r),te("touchmove",u,r),te("drag",u,r)];return k(()=>{f.forEach(d=>d())})}function np(s){let{mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:o}=s;if(o.mouseInteraction===!1)return()=>{};const l=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,a=[];let c=null;const u=f=>d=>{const m=Ot(d);if(re(m,n,i,!0))return;let p=null,y=f;if("pointerType"in d){switch(d.pointerType){case"mouse":p=Ce.Mouse;break;case"touch":p=Ce.Touch;break;case"pen":p=Ce.Pen;break}p===Ce.Touch?ne[f]===ne.MouseDown?y="TouchStart":ne[f]===ne.MouseUp&&(y="TouchEnd"):Ce.Pen}else bn(d)&&(p=Ce.Touch);p!==null?(c=p,(y.startsWith("Touch")&&p===Ce.Touch||y.startsWith("Mouse")&&p===Ce.Mouse)&&(p=null)):ne[f]===ne.Click&&(p=c,c=null);const h=bn(d)?d.changedTouches[0]:d;if(!h)return;const w=r.getId(m),{clientX:I,clientY:b}=h;k(e)(_objectSpread({type:ne[y],id:w,x:I,y:b},p!==null&&{pointerType:p}))};return Object.keys(ne).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&l[f]!==!1).forEach(f=>{let d=Oe(f);const m=u(f);if(window.PointerEvent)switch(ne[f]){case ne.MouseDown:case ne.MouseUp:d=d.replace("mouse","pointer");break;case ne.TouchStart:case ne.TouchEnd:return}a.push(te(d,m,t))}),k(()=>{a.forEach(f=>f())})}function ka(s){let{scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:o}=s;const l=k(xt(k(a=>{const c=Ot(a);if(!c||re(c,n,i,!0))return;const u=r.getId(c);if(c===t&&t.defaultView){const f=ma(t.defaultView);e({id:u,x:f.left,y:f.top})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return te("scroll",l,t)}function ip(s,e){let{viewportResizeCb:t}=s,{win:r}=e,n=-1,i=-1;const o=k(xt(k(()=>{const l=ga(),a=ya();(n!==l||i!==a)&&(t({width:Number(a),height:Number(l)}),n=l,i=a)}),200));return te("resize",o,r)}const op=["INPUT","TEXTAREA","SELECT"],Na=new WeakMap;function ap(s){let{inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,ignoreClass:o,ignoreSelector:l,maskInputOptions:a,maskInputFn:c,sampling:u,userTriggeredOnInput:f}=s;function d(b){let g=Ot(b);const v=b.isTrusted,C=g&&g.tagName;if(g&&C==="OPTION"&&(g=M.parentElement(g)),!g||!C||op.indexOf(C)<0||re(g,n,i,!0)||g.classList.contains(o)||l&&g.matches(l))return;let O=g.value,E=!1;const x=os(g)||"";x==="radio"||x==="checkbox"?E=g.checked:(a[C.toLowerCase()]||a[x])&&(O=is({element:g,maskInputOptions:a,tagName:C,type:x,value:O,maskInputFn:c})),m(g,f?{text:O,isChecked:E,userTriggered:v}:{text:O,isChecked:E});const $=g.name;x==="radio"&&$&&E&&t.querySelectorAll('input[type="radio"][name="'.concat($,'"]')).forEach(j=>{if(j!==g){const q=j.value;m(j,f?{text:q,isChecked:!E,userTriggered:!1}:{text:q,isChecked:!E})}})}function m(b,g){const v=Na.get(b);if(!v||v.text!==g.text||v.isChecked!==g.isChecked){Na.set(b,g);const C=r.getId(b);k(e)(_objectSpread(_objectSpread({},g),{},{id:C}))}}const y=(u.input==="last"?["change"]:["input","change"]).map(b=>te(b,k(d),t)),h=t.defaultView;if(!h)return()=>{y.forEach(b=>b())};const w=h.Object.getOwnPropertyDescriptor(h.HTMLInputElement.prototype,"value"),I=[[h.HTMLInputElement.prototype,"value"],[h.HTMLInputElement.prototype,"checked"],[h.HTMLSelectElement.prototype,"value"],[h.HTMLTextAreaElement.prototype,"value"],[h.HTMLSelectElement.prototype,"selectedIndex"],[h.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&y.push(...I.map(b=>Rr(b[0],b[1],{set(){k(d)({target:this,isTrusted:!1})}},!1,h))),k(()=>{y.forEach(b=>b())})}function Tr(s){const e=[];function t(r,n){if(kr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||kr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||kr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||kr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);n.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);n.unshift(o)}return n}return t(s,e)}function xe(s,e,t){let r,n;return s?(s.ownerNode?r=e.getId(s.ownerNode):n=t.getId(s),{styleId:n,id:r}):{}}function lp(s,e){let{styleSheetRuleCb:t,mirror:r,stylesheetManager:n}=s,{win:i}=e;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:k((d,m,p)=>{const[y,h]=p,{id:w,styleId:I}=xe(m,r,n.styleMirror);return(w&&w!==-1||I&&I!==-1)&&t({id:w,styleId:I,adds:[{rule:y,index:h}]}),d.apply(m,p)})}),i.CSSStyleSheet.prototype.addRule=function(d,m){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.cssRules.length;const y="".concat(d," { ").concat(m," }");return i.CSSStyleSheet.prototype.insertRule.apply(this,[y,p])};const l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:k((d,m,p)=>{const[y]=p,{id:h,styleId:w}=xe(m,r,n.styleMirror);return(h&&h!==-1||w&&w!==-1)&&t({id:h,styleId:w,removes:[{index:y}]}),d.apply(m,p)})}),i.CSSStyleSheet.prototype.removeRule=function(d){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[d])};let a;i.CSSStyleSheet.prototype.replace&&(a=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:k((d,m,p)=>{const[y]=p,{id:h,styleId:w}=xe(m,r,n.styleMirror);return(h&&h!==-1||w&&w!==-1)&&t({id:h,styleId:w,replace:y}),d.apply(m,p)})}));let c;i.CSSStyleSheet.prototype.replaceSync&&(c=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:k((d,m,p)=>{const[y]=p,{id:h,styleId:w}=xe(m,r,n.styleMirror);return(h&&h!==-1||w&&w!==-1)&&t({id:h,styleId:w,replaceSync:y}),d.apply(m,p)})}));const u={};Nr("CSSGroupingRule")?u.CSSGroupingRule=i.CSSGroupingRule:(Nr("CSSMediaRule")&&(u.CSSMediaRule=i.CSSMediaRule),Nr("CSSConditionRule")&&(u.CSSConditionRule=i.CSSConditionRule),Nr("CSSSupportsRule")&&(u.CSSSupportsRule=i.CSSSupportsRule));const f={};return Object.entries(u).forEach(d=>{let[m,p]=d;f[m]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(f[m].insertRule,{apply:k((y,h,w)=>{const[I,b]=w,{id:g,styleId:v}=xe(h.parentStyleSheet,r,n.styleMirror);return(g&&g!==-1||v&&v!==-1)&&t({id:g,styleId:v,adds:[{rule:I,index:[...Tr(h),b||0]}]}),y.apply(h,w)})}),p.prototype.deleteRule=new Proxy(f[m].deleteRule,{apply:k((y,h,w)=>{const[I]=w,{id:b,styleId:g}=xe(h.parentStyleSheet,r,n.styleMirror);return(b&&b!==-1||g&&g!==-1)&&t({id:b,styleId:g,removes:[{index:[...Tr(h),I]}]}),y.apply(h,w)})})}),k(()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=l,a&&(i.CSSStyleSheet.prototype.replace=a),c&&(i.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach(d=>{let[m,p]=d;p.prototype.insertRule=f[m].insertRule,p.prototype.deleteRule=f[m].deleteRule})})}function $a(s,e){let{mirror:t,stylesheetManager:r}=s;var n,i,o;let l=null;e.nodeName==="#document"?l=t.getId(e):l=t.getId(M.host(e));const a=e.nodeName==="#document"?(n=e.defaultView)==null?void 0:n.Document:(o=(i=e.ownerDocument)==null?void 0:i.defaultView)==null?void 0:o.ShadowRoot,c=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return l===null||l===-1||!a||!c?()=>{}:(Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var u;return(u=c.get)==null?void 0:u.call(this)},set(u){var f;const d=(f=c.set)==null?void 0:f.call(this,u);if(l!==null&&l!==-1)try{r.adoptStyleSheets(u,l)}catch{}return d}}),k(()=>{Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function cp(s,e){let{styleDeclarationCb:t,mirror:r,ignoreCSSAttributes:n,stylesheetManager:i}=s,{win:o}=e;const l=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:k((c,u,f)=>{var d;const[m,p,y]=f;if(n.has(m))return l.apply(u,[m,p,y]);const{id:h,styleId:w}=xe((d=u.parentRule)==null?void 0:d.parentStyleSheet,r,i.styleMirror);return(h&&h!==-1||w&&w!==-1)&&t({id:h,styleId:w,set:{property:m,value:p,priority:y},index:Tr(u.parentRule)}),c.apply(u,f)})});const a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:k((c,u,f)=>{var d;const[m]=f;if(n.has(m))return a.apply(u,[m]);const{id:p,styleId:y}=xe((d=u.parentRule)==null?void 0:d.parentStyleSheet,r,i.styleMirror);return(p&&p!==-1||y&&y!==-1)&&t({id:p,styleId:y,remove:{property:m},index:Tr(u.parentRule)}),c.apply(u,f)})}),k(()=>{o.CSSStyleDeclaration.prototype.setProperty=l,o.CSSStyleDeclaration.prototype.removeProperty=a})}function up(s){let{mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:i,doc:o}=s;const l=k(c=>xt(k(u=>{const f=Ot(u);if(!f||re(f,t,r,!0))return;const{currentTime:d,volume:m,muted:p,playbackRate:y,loop:h}=f;e({type:c,id:n.getId(f),currentTime:d,volume:m,muted:p,playbackRate:y,loop:h})}),i.media||500)),a=[te("play",l(rt.Play),o),te("pause",l(rt.Pause),o),te("seeked",l(rt.Seeked),o),te("volumechange",l(rt.VolumeChange),o),te("ratechange",l(rt.RateChange),o)];return k(()=>{a.forEach(c=>c())})}function hp(s){let{fontCb:e,doc:t}=s;const r=t.defaultView;if(!r)return()=>{};const n=[],i=new WeakMap,o=r.FontFace;r.FontFace=function(c,u,f){const d=new o(c,u,f);return i.set(d,{family:c,buffer:typeof u!="string",descriptors:f,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const l=et(t.fonts,"add",function(a){return function(c){return setTimeout(k(()=>{const u=i.get(c);u&&(e(u),i.delete(c))}),0),a.apply(this,[c])}});return n.push(()=>{r.FontFace=o}),n.push(l),k(()=>{n.forEach(a=>a())})}function fp(s){const{doc:e,mirror:t,blockClass:r,blockSelector:n,selectionCb:i}=s;let o=!0;const l=k(()=>{const a=e.getSelection();if(!a||o&&(a!=null&&a.isCollapsed))return;o=a.isCollapsed||!1;const c=[],u=a.rangeCount||0;for(let f=0;f<u;f++){const d=a.getRangeAt(f),{startContainer:m,startOffset:p,endContainer:y,endOffset:h}=d;re(m,r,n,!0)||re(y,r,n,!0)||c.push({start:t.getId(m),startOffset:p,end:t.getId(y),endOffset:h})}i({ranges:c})});return l(),te("selectionchange",l)}function dp(s){let{doc:e,customElementCb:t}=s;const r=e.defaultView;return!r||!r.customElements?()=>{}:et(r.customElements,"define",function(i){return function(o,l,a){try{t({define:{name:o}})}catch{console.warn("Custom element callback failed for ".concat(o))}return i.apply(this,[o,l,a])}})}function pp(s,e){const{mutationCb:t,mousemoveCb:r,mouseInteractionCb:n,scrollCb:i,viewportResizeCb:o,inputCb:l,mediaInteractionCb:a,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:f,fontCb:d,selectionCb:m,customElementCb:p}=s;s.mutationCb=function(){e.mutation&&e.mutation(...arguments),t(...arguments)},s.mousemoveCb=function(){e.mousemove&&e.mousemove(...arguments),r(...arguments)},s.mouseInteractionCb=function(){e.mouseInteraction&&e.mouseInteraction(...arguments),n(...arguments)},s.scrollCb=function(){e.scroll&&e.scroll(...arguments),i(...arguments)},s.viewportResizeCb=function(){e.viewportResize&&e.viewportResize(...arguments),o(...arguments)},s.inputCb=function(){e.input&&e.input(...arguments),l(...arguments)},s.mediaInteractionCb=function(){e.mediaInteaction&&e.mediaInteaction(...arguments),a(...arguments)},s.styleSheetRuleCb=function(){e.styleSheetRule&&e.styleSheetRule(...arguments),c(...arguments)},s.styleDeclarationCb=function(){e.styleDeclaration&&e.styleDeclaration(...arguments),u(...arguments)},s.canvasMutationCb=function(){e.canvasMutation&&e.canvasMutation(...arguments),f(...arguments)},s.fontCb=function(){e.font&&e.font(...arguments),d(...arguments)},s.selectionCb=function(){e.selection&&e.selection(...arguments),m(...arguments)},s.customElementCb=function(){e.customElement&&e.customElement(...arguments),p(...arguments)}}function mp(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=s.doc.defaultView;if(!t)return()=>{};pp(s,e);let r;s.recordDOM&&(r=Ta(s,s.doc));const n=sp(s),i=np(s),o=ka(s),l=ip(s,{win:t}),a=ap(s),c=up(s);let u=()=>{},f=()=>{},d=()=>{},m=()=>{};s.recordDOM&&(u=lp(s,{win:t}),f=$a(s,s.doc),d=cp(s,{win:t}),s.collectFonts&&(m=hp(s)));const p=fp(s),y=dp(s),h=[];for(const w of s.plugins)h.push(w.observer(w.callback,t,w.options));return k(()=>{Te.forEach(w=>w.reset()),r==null||r.disconnect(),n(),i(),o(),l(),a(),c(),u(),f(),d(),m(),p(),y(),h.forEach(w=>w())})}function kr(s){return typeof window[s]<"u"}function Nr(s){return!!(typeof window[s]<"u"&&window[s].prototype&&"insertRule"in window[s].prototype&&"deleteRule"in window[s].prototype)}class La{constructor(e){S(this,"iframeIdToRemoteIdMap",new WeakMap),S(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,n){const i=r||this.getIdToRemoteIdMap(e),o=n||this.getRemoteIdToIdMap(e);let l=i.get(t);return l||(l=this.generateIdFn(),i.set(t,l),o.set(l,t)),l}getIds(e,t){const r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map(i=>this.getId(e,i,r,n))}getRemoteId(e,t,r){const n=r||this.getRemoteIdToIdMap(e);if(typeof t!="number")return t;const i=n.get(t);return i||-1}getRemoteIds(e,t){const r=this.getRemoteIdToIdMap(e);return t.map(n=>this.getRemoteId(e,n,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class gp{constructor(e){S(this,"iframes",new WeakMap),S(this,"crossOriginIframeMap",new WeakMap),S(this,"crossOriginIframeMirror",new La(ci)),S(this,"crossOriginIframeStyleMirror"),S(this,"crossOriginIframeRootIdMap",new WeakMap),S(this,"mirror"),S(this,"mutationCb"),S(this,"wrappedEmit"),S(this,"loadListener"),S(this,"stylesheetManager"),S(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new La(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(n=this.loadListener)==null||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const i=this.transformCrossOriginEvent(n,t.data.event);i&&this.wrappedEmit(i,t.data.isCheckout)}transformCrossOriginEvent(e,t){var r;switch(t.type){case N.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:N.IncrementalSnapshot,data:{source:T.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case N.Meta:case N.Load:case N.DomContentLoaded:return!1;case N.Plugin:return t;case N.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case N.IncrementalSnapshot:switch(t.data.source){case T.Mutation:return t.data.adds.forEach(n=>{this.replaceIds(n,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,e);const i=this.crossOriginIframeRootIdMap.get(e);i&&this.patchRootIdOnNode(n.node,i)}),t.data.removes.forEach(n=>{this.replaceIds(n,e,["parentId","id"])}),t.data.attributes.forEach(n=>{this.replaceIds(n,e,["id"])}),t.data.texts.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case T.Drag:case T.TouchMove:case T.MouseMove:return t.data.positions.forEach(n=>{this.replaceIds(n,e,["id"])}),t;case T.ViewportResize:return!1;case T.MediaInteraction:case T.MouseInteraction:case T.Scroll:case T.CanvasMutation:case T.Input:return this.replaceIds(t.data,e,["id"]),t;case T.StyleSheetRule:case T.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case T.Font:return t;case T.Selection:return t.data.ranges.forEach(n=>{this.replaceIds(n,e,["start","end"])}),t;case T.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(r=t.data.styles)==null||r.forEach(n=>{this.replaceStyleIds(n,e,["styleId"])}),t}}return!1}replace(e,t,r,n){for(const i of n)!Array.isArray(t[i])&&typeof t[i]!="number"||(Array.isArray(t[i])?t[i]=e.getIds(r,t[i]):t[i]=e.getId(r,t[i]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,t)})}patchRootIdOnNode(e,t){e.type!==Ea.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,t)})}}class yp{constructor(e){S(this,"shadowDoms",new WeakSet),S(this,"mutationCb"),S(this,"scrollCb"),S(this,"bypassOptions"),S(this,"mirror"),S(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!at(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=Ta(_objectSpread(_objectSpread({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(ka(_objectSpread(_objectSpread({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(M.host(e))),this.restoreHandlers.push($a({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const r=this;this.restoreHandlers.push(et(e.prototype,"attachShadow",function(n){return function(i){const o=n.call(this,i),l=M.shadowRoot(this);return l&&Ia(this)&&r.addShadowRoot(l,t),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wp=typeof Uint8Array>"u"?[]:new Uint8Array(256),$r=0;$r<st.length;$r++)wp[st.charCodeAt($r)]=$r;var bp=function(s){var e=new Uint8Array(s),t,r=e.length,n="";for(t=0;t<r;t+=3)n+=st[e[t]>>2],n+=st[(e[t]&3)<<4|e[t+1]>>4],n+=st[(e[t+1]&15)<<2|e[t+2]>>6],n+=st[e[t+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};const Pa=new Map;function vp(s,e){let t=Pa.get(s);return t||(t=new Map,Pa.set(s,t)),t.has(e)||t.set(e,[]),t.get(e)}const _a=(s,e,t)=>{if(!s||!(Ba(s,e)||typeof s=="object"))return;const r=s.constructor.name,n=vp(t,r);let i=n.indexOf(s);return i===-1&&(i=n.length,n.push(s)),i};function Lr(s,e,t){if(s instanceof Array)return s.map(r=>Lr(r,e,t));if(s===null)return s;if(s instanceof Float32Array||s instanceof Float64Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Uint8Array||s instanceof Uint16Array||s instanceof Int16Array||s instanceof Int8Array||s instanceof Uint8ClampedArray)return{rr_type:s.constructor.name,args:[Object.values(s)]};if(s instanceof ArrayBuffer){const r=s.constructor.name,n=bp(s);return{rr_type:r,base64:n}}else{if(s instanceof DataView)return{rr_type:s.constructor.name,args:[Lr(s.buffer,e,t),s.byteOffset,s.byteLength]};if(s instanceof HTMLImageElement){const r=s.constructor.name,{src:n}=s;return{rr_type:r,src:n}}else if(s instanceof HTMLCanvasElement){const r="HTMLImageElement",n=s.toDataURL();return{rr_type:r,src:n}}else{if(s instanceof ImageData)return{rr_type:s.constructor.name,args:[Lr(s.data,e,t),s.width,s.height]};if(Ba(s,e)||typeof s=="object"){const r=s.constructor.name,n=_a(s,e,t);return{rr_type:r,index:n}}}}return s}const Da=(s,e,t)=>s.map(r=>Lr(r,e,t)),Ba=(s,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(n=>typeof e[n]=="function").find(n=>s instanceof e[n]);function Sp(s,e,t,r){const n=[],i=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const o of i)try{if(typeof e.CanvasRenderingContext2D.prototype[o]!="function")continue;const l=et(e.CanvasRenderingContext2D.prototype,o,function(a){return function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return re(this.canvas,t,r,!0)||setTimeout(()=>{const d=Da(u,e,this);s(this.canvas,{type:tt["2D"],property:o,args:d})},0),a.apply(this,u)}});n.push(l)}catch{const a=Rr(e.CanvasRenderingContext2D.prototype,o,{set(c){s(this.canvas,{type:tt["2D"],property:o,args:[c],setter:!0})}});n.push(a)}return()=>{n.forEach(o=>o())}}function Cp(s){return s==="experimental-webgl"?"webgl":s}function Fa(s,e,t,r){const n=[];try{const i=et(s.HTMLCanvasElement.prototype,"getContext",function(o){return function(l){for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];if(!re(this,e,t,!0)){const f=Cp(l);if("__context"in this||(this.__context=f),r&&["webgl","webgl2"].includes(f))if(c[0]&&typeof c[0]=="object"){const d=c[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else c.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[l,...c])}});n.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{n.forEach(i=>i())}}function Ua(s,e,t,r,n,i){const o=[],l=Object.getOwnPropertyNames(s);for(const a of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if(typeof s[a]!="function")continue;const c=et(s,a,function(u){return function(){for(var f=arguments.length,d=new Array(f),m=0;m<f;m++)d[m]=arguments[m];const p=u.apply(this,d);if(_a(p,i,this),"tagName"in this.canvas&&!re(this.canvas,r,n,!0)){const y=Da(d,i,this),h={type:e,property:a,args:y};t(this.canvas,h)}return p}});o.push(c)}catch{const u=Rr(s,a,{set(f){t(this.canvas,{type:e,property:a,args:[f],setter:!0})}});o.push(u)}return o}function Ip(s,e,t,r){const n=[];return n.push(...Ua(e.WebGLRenderingContext.prototype,tt.WebGL,s,t,r,e)),typeof e.WebGL2RenderingContext<"u"&&n.push(...Ua(e.WebGL2RenderingContext.prototype,tt.WebGL2,s,t,r,e)),()=>{n.forEach(i=>i())}}const Wa="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",Ep=s=>Uint8Array.from(atob(s),e=>e.charCodeAt(0)),za=typeof window<"u"&&window.Blob&&new Blob([Ep(Wa)],{type:"text/javascript;charset=utf-8"});function xp(s){let e;try{if(e=za&&(window.URL||window.webkitURL).createObjectURL(za),!e)throw"";const t=new Worker(e,{name:s==null?void 0:s.name});return t.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+Wa,{name:s==null?void 0:s.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}class Ap{constructor(e){S(this,"pendingCanvasMutations",new Map),S(this,"rafStamps",{latestId:0,invokeId:null}),S(this,"mirror"),S(this,"mutationCb"),S(this,"resetObservers"),S(this,"frozen",!1),S(this,"locked",!1),S(this,"processMutation",(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)});const{sampling:t="all",win:r,blockClass:n,blockSelector:i,recordCanvas:o,dataURLOptions:l}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&t==="all"&&this.initCanvasMutationObserver(r,n,i),o&&typeof t=="number"&&this.initCanvasFPSObserver(t,r,n,i,{dataURLOptions:l})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,n,i){const o=Fa(t,r,n,!0),l=new Map,a=new xp;a.onmessage=p=>{const{id:y}=p.data;if(l.set(y,!1),!("base64"in p.data))return;const{base64:h,type:w,width:I,height:b}=p.data;this.mutationCb({id:y,type:tt["2D"],commands:[{property:"clearRect",args:[0,0,I,b]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:h}],type:w}]},0,0]}]})};const c=1e3/e;let u=0,f;const d=()=>{const p=[];return t.document.querySelectorAll("canvas").forEach(y=>{re(y,r,n,!0)||p.push(y)}),p},m=p=>{if(u&&p-u<c){f=requestAnimationFrame(m);return}u=p,d().forEach(async y=>{var h;const w=this.mirror.getId(y);if(l.get(w)||y.width===0||y.height===0)return;if(l.set(w,!0),["webgl","webgl2"].includes(y.__context)){const b=y.getContext(y.__context);((h=b==null?void 0:b.getContextAttributes())==null?void 0:h.preserveDrawingBuffer)===!1&&b.clear(b.COLOR_BUFFER_BIT)}const I=await createImageBitmap(y);a.postMessage({id:w,bitmap:I,width:y.width,height:y.height,dataURLOptions:i.dataURLOptions},[I])}),f=requestAnimationFrame(m)};f=requestAnimationFrame(m),this.resetObservers=()=>{o(),cancelAnimationFrame(f)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const n=Fa(e,t,r,!1),i=Sp(this.processMutation.bind(this),e,t,r),o=Ip(this.processMutation.bind(this),e,t,r);this.resetObservers=()=>{n(),i(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{const r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||t===-1)return;const n=r.map(o=>{const{type:l}=o;return _objectWithoutProperties(o,_excluded5)}),{type:i}=r[0];this.mutationCb({id:t,type:i,commands:n}),this.pendingCanvasMutations.delete(e)}}class Op{constructor(e){S(this,"trackedLinkElements",new WeakSet),S(this,"mutationCb"),S(this,"adoptedStyleSheetCb"),S(this,"styleMirror",new Jd),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;const r={id:t,styleIds:[]},n=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),n.push({styleId:o,rules:Array.from(i.rules||CSSRule,(l,a)=>({rule:ii(l,i.href),index:a}))})),r.styleIds.push(o)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Rp{constructor(){S(this,"nodeMap",new WeakMap),S(this,"active",!1)}inOtherBuffer(e,t){const r=this.nodeMap.get(e);return r&&Array.from(r).some(n=>n!==t)}add(e,t){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let J,Pr,Cn,_r=!1;try{if(Array.from([1],s=>s*2)[0]!==2){const s=document.createElement("iframe");document.body.appendChild(s),Array.from=((Qn=s.contentWindow)==null?void 0:Qn.Array.from)||Array.from,document.body.removeChild(s)}}catch(s){console.debug("Unable to override Array.from",s)}const fe=_c();function Rt(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{emit:e,checkoutEveryNms:t,checkoutEveryNth:r,blockClass:n="rr-block",blockSelector:i=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskTextClass:a="rr-mask",maskTextSelector:c=null,inlineStylesheet:u=!0,maskAllInputs:f,maskInputOptions:d,slimDOMOptions:m,maskInputFn:p,maskTextFn:y,hooks:h,packFn:w,sampling:I={},dataURLOptions:b={},mousemoveWait:g,recordDOM:v=!0,recordCanvas:C=!1,recordCrossOriginIframes:O=!1,recordAfter:E=s.recordAfter==="DOMContentLoaded"?s.recordAfter:"load",userTriggeredOnInput:x=!1,collectFonts:$=!1,inlineImages:j=!1,plugins:q,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:ie=new Set([]),errorHandler:de}=s;tp(de);const Y=O?window.parent===window:!0;let se=!1;if(!Y)try{window.parent.document&&(se=!1)}catch{se=!0}if(Y&&!e)throw new Error("emit function is required");if(!Y&&!se)return()=>{};g!==void 0&&I.mousemove===void 0&&(I.mousemove=g),fe.reset();const we=f===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:d!==void 0?d:{password:!0},ae=m===!0||m==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:m==="all",headMetaDescKeywords:m==="all",headTitleMutations:m==="all"}:m||{};Yd();let Ha,En=0;const Ya=L=>{for(const pe of q||[])pe.eventProcessor&&(L=pe.eventProcessor(L));return w&&!se&&(L=w(L)),L};J=(L,pe)=>{var Z;const K=L;if(K.timestamp=Mr(),(Z=Te[0])!=null&&Z.isFrozen()&&K.type!==N.FullSnapshot&&!(K.type===N.IncrementalSnapshot&&K.data.source===T.Mutation)&&Te.forEach(be=>be.unfreeze()),Y)e==null||e(Ya(K),pe);else if(se){const be={type:"rrweb",event:Ya(K),origin:window.location.origin,isCheckout:pe};window.parent.postMessage(be,"*")}if(K.type===N.FullSnapshot)Ha=K,En=0;else if(K.type===N.IncrementalSnapshot){if(K.data.source===T.Mutation&&K.data.isAttachIframe)return;En++;const be=r&&En>=r,B=t&&K.timestamp-Ha.timestamp>t;(be||B)&&Pr(!0)}};const Dr=L=>{J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.Mutation},L)})},Ja=L=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.Scroll},L)}),Za=L=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.CanvasMutation},L)}),_p=L=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.AdoptedStyleSheet},L)}),ke=new Op({mutationCb:Dr,adoptedStyleSheetCb:_p}),Ne=new gp({mirror:fe,mutationCb:Dr,stylesheetManager:ke,recordCrossOriginIframes:O,wrappedEmit:J});for(const L of q||[])L.getMirror&&L.getMirror({nodeMirror:fe,crossOriginIframeMirror:Ne.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ne.crossOriginIframeStyleMirror});const xn=new Rp;Cn=new Ap({recordCanvas:C,mutationCb:Za,win:window,blockClass:n,blockSelector:i,mirror:fe,sampling:I.canvas,dataURLOptions:b});const Br=new yp({mutationCb:Dr,scrollCb:Ja,bypassOptions:{blockClass:n,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:u,maskInputOptions:we,dataURLOptions:b,maskTextFn:y,maskInputFn:p,recordCanvas:C,inlineImages:j,sampling:I,slimDOMOptions:ae,iframeManager:Ne,stylesheetManager:ke,canvasManager:Cn,keepIframeSrcFn:R,processedNodeManager:xn},mirror:fe});Pr=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!v)return;J({type:N.Meta,data:{href:window.location.href,width:ya(),height:ga()}},L),ke.reset(),Br.init(),Te.forEach(Z=>Z.lock());const pe=ou(document,{mirror:fe,blockClass:n,blockSelector:i,maskTextClass:a,maskTextSelector:c,inlineStylesheet:u,maskAllInputs:we,maskTextFn:y,maskInputFn:p,slimDOM:ae,dataURLOptions:b,recordCanvas:C,inlineImages:j,onSerialize:Z=>{va(Z,fe)&&Ne.addIframe(Z),Sa(Z,fe)&&ke.trackLinkElement(Z),vn(Z)&&Br.addShadowRoot(M.shadowRoot(Z),document)},onIframeLoad:(Z,K)=>{Ne.attachIframe(Z,K),Br.observeAttachShadow(Z)},onStylesheetLoad:(Z,K)=>{ke.attachLinkElement(Z,K)},keepIframeSrcFn:R});if(!pe)return console.warn("Failed to snapshot the document");J({type:N.FullSnapshot,data:{node:pe,initialOffset:ma(window)}},L),Te.forEach(Z=>Z.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ke.adoptStyleSheets(document.adoptedStyleSheets,fe.getId(document))};try{const L=[],pe=K=>{var be;return k(mp)({mutationCb:Dr,mousemoveCb:(B,An)=>J({type:N.IncrementalSnapshot,data:{source:An,positions:B}}),mouseInteractionCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.MouseInteraction},B)}),scrollCb:Ja,viewportResizeCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.ViewportResize},B)}),inputCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.Input},B)}),mediaInteractionCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.MediaInteraction},B)}),styleSheetRuleCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.StyleSheetRule},B)}),styleDeclarationCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.StyleDeclaration},B)}),canvasMutationCb:Za,fontCb:B=>J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.Font},B)}),selectionCb:B=>{J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.Selection},B)})},customElementCb:B=>{J({type:N.IncrementalSnapshot,data:_objectSpread({source:T.CustomElement},B)})},blockClass:n,ignoreClass:o,ignoreSelector:l,maskTextClass:a,maskTextSelector:c,maskInputOptions:we,inlineStylesheet:u,sampling:I,recordDOM:v,recordCanvas:C,inlineImages:j,userTriggeredOnInput:x,collectFonts:$,doc:K,maskInputFn:p,maskTextFn:y,keepIframeSrcFn:R,blockSelector:i,slimDOMOptions:ae,dataURLOptions:b,mirror:fe,iframeManager:Ne,stylesheetManager:ke,shadowDomManager:Br,processedNodeManager:xn,canvasManager:Cn,ignoreCSSAttributes:ie,plugins:((be=q==null?void 0:q.filter(B=>B.observer))==null?void 0:be.map(B=>({observer:B.observer,options:B.options,callback:An=>J({type:N.Plugin,data:{plugin:B.name,payload:An}})})))||[]},h)};Ne.addLoadListener(K=>{try{L.push(pe(K.contentDocument))}catch(be){console.warn(be)}});const Z=()=>{Pr(),L.push(pe(document)),_r=!0};return document.readyState==="interactive"||document.readyState==="complete"?Z():(L.push(te("DOMContentLoaded",()=>{J({type:N.DomContentLoaded,data:{}}),E==="DOMContentLoaded"&&Z()})),L.push(te("load",()=>{J({type:N.Load,data:{}}),E==="load"&&Z()},window))),()=>{L.forEach(K=>K()),xn.destroy(),_r=!1,rp()}}catch(L){console.warn(L)}}Rt.addCustomEvent=(s,e)=>{if(!_r)throw new Error("please add custom event after start recording");J({type:N.Custom,data:{tag:s,payload:e}})},Rt.freezePage=()=>{Te.forEach(s=>s.freeze())},Rt.takeFullSnapshot=s=>{if(!_r)throw new Error("please take full snapshot after start recording");Pr(s)},Rt.mirror=fe;var Va;(function(s){s[s.NotStarted=0]="NotStarted",s[s.Running=1]="Running",s[s.Stopped=2]="Stopped"})(Va||(Va={}));const Mp=async s=>{let{cookieValue:e,data:t,events:r}=s;const{luuid:n,lhash:i,auuid:o}=t,l={session_id:e,landing_uuid:n,variant_hash:i,account_uuid:o,events:r},a="".concat(Tt,"/record");try{const c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok)throw new Error("Request failed with status ".concat(c.status))}catch(c){console.error("Error sending session record:",c)}},Tp=s=>{let{cookieValue:e,data:t}=s,r=[];Rt({emit(n){r.push(n)}}),setInterval(()=>{r.length!==0&&(Mp({cookieValue:e,data:t,events:r}),r=[])},1e4)},Mt=(s,e)=>{const{tid:t}=e,r=new FormData;t&&r.append("tid",t.toString()),fetch(s,{method:"POST",body:r}).then(n=>{if(!n.ok)throw new Error("EventTracker: Request failed with status ".concat(n.status,". Response message: ").concat(n.statusText,", response url: ").concat(n.url,". Url: ").concat(s,", data: ").concat(JSON.stringify(e)))}).catch(n=>console.error("EventTracker error in sendVisitToOldStatsSystem: ".concat(n)))},kp=()=>{const s=new Date().getTime(),e=30*60*1e3;for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if((r&&r.startsWith("ls_sid_")||r&&r.startsWith("cookie_value-")||r&&r.startsWith("cookie-value-")||r&&r.startsWith("previousCookieValues-"))&&me(r)&&Zr(r),r&&r.startsWith($e)){const n=me(r);if(n)try{const{t:i}=JSON.parse(n);s-i>=e&&Zr(r)}catch(i){console.error("Error parsing localStorage item in checkAndRemoveExpiredLocalStorageItemsDev: ".concat(i))}}}},Np=s=>{if(s)try{return(s&&JSON.parse(s)).u}catch(e){console.error("Error parsing localStorage item in getCookieValueFromLocalStorage: ".concat(e))}},In=(s,e,t)=>{const{hasAccessToVisitWithoutCookie:r,hasAccessToVisitWithLocalStorage:n}=e;if(r){Le()==="main"&&Mt(t,e);return}kp();let i;if(n){const o="".concat($e).concat(s),l=me(o);i=Np(l)}else i=le.get(s);if(i)try{const o="".concat($e).concat(s);return me(o)||Ae(o,JSON.stringify({e:{v:!1,s:!1,s_f_f:{}},t:new Date().getTime(),u:i})),i}catch(o){throw new Error("EventTracker: Error: ".concat(o,", data: ").concat(JSON.stringify(e),", name: ").concat(s,", url: ").concat(t))}else{Mt(t,e);const o=window.location.href,l=Wn(o);try{if(!l)throw new Error("EventTracker: URL is not secure. url: ".concat(o));const a=Ur();n||le.set(s,a,{expires:Rn(30),path:window.location.pathname,secure:!0});const c="".concat($e).concat(s);return Ae(c,JSON.stringify({e:{v:!1,s:!1,s_f_f:{}},t:new Date().getTime(),u:a})),a}catch(a){throw new Error("EventTracker: Error: ".concat(a,", data: ").concat(JSON.stringify(e),", name: ").concat(s,", url: ").concat(t))}}},ja=(s,e,t)=>{const{hasAccessToVisitWithoutCookie:r}=e;if(r){Le()==="main"&&Mt(t,e);return}const n=le.get(s);if(n)return n;{Mt(t,e);const i=window.location.href,o=Wn(i);try{if(!o)throw new Error("EventTracker: URL is not secure. url: ".concat(i));const l=Ur();le.set(s,l,{expires:Rn(30),path:window.location.pathname,secure:!0});const a=le.get(s);if(!a)throw new Error("EventTracker: Cookie not found. cookieValue: ".concat(a,", cookieName: ").concat(s));return a}catch(l){throw new Error("EventTracker: Error posting cookie: ".concat(l,", data: ").concat(JSON.stringify(e),", name: ").concat(s,", url: ").concat(t))}}},$p=()=>{const s=new Date().getTime(),e=30*60*1e3;for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r&&r.startsWith("ls_sid_")){const n=me(r);if(n){const{timestamp:i}=JSON.parse(n);s-i>=e&&Zr(r)}}}},Ga=(s,e,t)=>{$p();const r=me(s);if(r){const{value:n}=JSON.parse(r);return n}Mt(t,e);try{const i={value:Ur(),timestamp:new Date().getTime()};return Ae(s,JSON.stringify(i)),i.value}catch(n){throw new Error("EventTracker: Error setting local storage value: ".concat(n,", data: ").concat(JSON.stringify(e),", name: ").concat(s,", url: ").concat(t))}},Lp=async(s,e,t)=>{const{hasAccessToEventTracker:r,hasAccessToEventTrackerData:n,hasAccessToVisitWithLocalStorage:i,hasAccessToExternalEvents:o,hasAccessToLocalStorageOptimization:l,hasAccessToTrackActivityTime:a}=t;if(l){const c=In(s,t,e);if(!c)return;const u="".concat($e).concat(s),f=me(u),d=f&&JSON.parse(f),{t:m,e:p,u:y}=d,I={setEvent:(b,g)=>{b===kt?g!=null&&g.formId&&(p[b][g.formId]=!0):p[b]=!0,Ae(u,JSON.stringify({e:p,t:m,u:y}))},getEvent:b=>p[b]};if(r||n){await zn({cookieValue:c,data:t,eventHandlers:I}),Pe({parentElement:document.body,data:t,cookieValue:c,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const b=[...document.getElementsByClassName("widget-form")];_e(b,c),Jr(c),$t({forms:b,data:t,cookieValue:c,eventHandlers:I}),Hr(c,t),Xr(c,t),Gn({cookieValue:c,data:t,eventHandlers:I}),a&&es({cookieValue:c});const g=[...document.getElementsByClassName("widget-button")],v=Be(g),C=Fe(v);o?Ve({redirectButtons:C,cookieValue:c,data:t}):ze(C,c);const O=Ue(v);We(O,c),document.querySelectorAll("[data-lightbox-name]").forEach($=>{De({lightbox:$,cookieValue:c,data:t})}),new MutationObserver($=>{$.forEach(j=>{var q;(q=j.addedNodes)===null||q===void 0||q.forEach(R=>{if(!(R instanceof HTMLElement))return;const ie=R;Pe({parentElement:ie,data:t,cookieValue:c,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),Yr(c,t);const de=[...ie.getElementsByClassName("widget-form")];_e(de,c),$t({forms:de,data:t,cookieValue:c,eventHandlers:I});const Y=[...ie.getElementsByClassName("widget-button")],se=Be(Y),we=Fe(se);o?Ve({redirectButtons:we,cookieValue:c,data:t}):ze(we,c);const ae=Ue(se);We(ae,c),ie.hasAttribute("data-lightbox-name")&&De({lightbox:ie,cookieValue:c,data:t})})})}).observe(document.body,{childList:!0,subtree:!0})}}else{const c=i?Ga(s,t,e):ja(s,t,e);if(!c)return;if(r||n){await El({cookieValue:c,data:t,url:window.location.href}),Pe({parentElement:document.body,data:t,cookieValue:c,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const u=[...document.getElementsByClassName("widget-form")];_e(u,c),Jr(c),Dn(u,t,c),Hr(c,t),Xr(c,t),Al(c,t),a&&es({cookieValue:c});const f=[...document.getElementsByClassName("widget-button")],d=Be(f),m=Fe(d);o?Ve({redirectButtons:m,cookieValue:c,data:t}):ze(m,c);const p=Ue(d);We(p,c),document.querySelectorAll("[data-lightbox-name]").forEach(w=>{De({lightbox:w,cookieValue:c,data:t})}),new MutationObserver(w=>{w.forEach(I=>{var b;(b=I.addedNodes)===null||b===void 0||b.forEach(g=>{if(!(g instanceof HTMLElement))return;const v=g;Pe({parentElement:v,data:t,cookieValue:c,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),Yr(c,t);const C=[...v.getElementsByClassName("widget-form")];_e(C,c),Dn(C,t,c);const O=[...v.getElementsByClassName("widget-button")],E=Be(O),x=Fe(E);o?Ve({redirectButtons:x,cookieValue:c,data:t}):ze(x,c);const $=Ue(E);We($,c),v.hasAttribute("data-lightbox-name")&&De({lightbox:v,cookieValue:c,data:t})})})}).observe(document.body,{childList:!0,subtree:!0})}}},Pp=async(s,e,t)=>{const{hasAccessToEventTracker:r,hasAccessToEventTrackerData:n,hasAccessToExternalEvents:i}=t,o=In(s,t,e);if(!o)return;const l="".concat($e).concat(s),a=me(l),c=a&&JSON.parse(a),{t:u,e:f,u:d}=c,y={setEvent:(h,w)=>{h===kt?w!=null&&w.formId&&(f[h][w.formId]=!0):f[h]=!0,Ae(l,JSON.stringify({e:f,t:u,u:d}))},getEvent:h=>f[h]};if(r||n){await zn({cookieValue:o,data:t,eventHandlers:y}),Pe({parentElement:document.body,data:t,cookieValue:o,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const h=[...document.getElementsByClassName("widget-form")];_e(h,o),Jr(o),$t({forms:h,data:t,cookieValue:o,eventHandlers:y}),Hr(o,t),Xr(o,t),Gn({cookieValue:o,data:t,eventHandlers:y}),es({cookieValue:o}),Tp({cookieValue:o,data:t});const w=[...document.getElementsByClassName("widget-button")],I=Be(w),b=Fe(I);i?Ve({redirectButtons:b,cookieValue:o,data:t}):ze(b,o);const g=Ue(I);We(g,o),document.querySelectorAll("[data-lightbox-name]").forEach(O=>{De({lightbox:O,cookieValue:o,data:t})}),new MutationObserver(O=>{O.forEach(E=>{var x;(x=E.addedNodes)===null||x===void 0||x.forEach($=>{if(!($ instanceof HTMLElement))return;const j=$;Pe({parentElement:j,data:t,cookieValue:o,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),Yr(o,t);const q=[...j.getElementsByClassName("widget-form")];_e(q,o),$t({forms:q,data:t,cookieValue:o,eventHandlers:y});const R=[...j.getElementsByClassName("widget-button")],ie=Be(R),de=Fe(ie);i?Ve({redirectButtons:de,cookieValue:o,data:t}):ze(de,o);const Y=Ue(ie);We(Y,o),j.hasAttribute("data-lightbox-name")&&De({lightbox:j,cookieValue:o,data:t})})})}).observe(document.body,{childList:!0,subtree:!0})}};return A.postCookieAndGetValue=ja,A.postCookieOrLocalStorageAndGetValue=In,A.postLocalStorageAndGetValue=Ga,A.runScript=Lp,A.runScriptDev=Pp,Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),A}({});
